

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. Introduction to Python &mdash; GeogG122: Scientific Computing v&lt;release&gt; documentation</title>
    
    <link rel="stylesheet" href="../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="top" title="GeogG122: Scientific Computing v&lt;release&gt; documentation" href="../index.html" />
    <link rel="next" title="3. Plotting and Numerical Python" href="../Chapter3_Scientific_Numerical_Python/Scientific_Numerical_Python.html" />
    <link rel="prev" title="Welcome to GeogG122: Scientific Computing" href="../Chapter0_Introduction/f1_index.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../Chapter3_Scientific_Numerical_Python/Scientific_Numerical_Python.html" title="3. Plotting and Numerical Python"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../Chapter0_Introduction/f1_index.html" title="Welcome to GeogG122: Scientific Computing"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">geogg122</a> &raquo;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduction-to-python">
<h1>1. Introduction to Python<a class="headerlink" href="#introduction-to-python" title="Permalink to this headline">¶</a></h1>
<p>The aim of this Chapter is to introduce you to some of the fundamental
concepts in Python. Mainly, this is based around fundamental data types
in Python (<tt class="docutils literal"><span class="pre">int</span></tt>, <tt class="docutils literal"><span class="pre">float</span></tt>, <tt class="docutils literal"><span class="pre">str</span></tt>, <tt class="docutils literal"><span class="pre">bool</span></tt> etc.) and ways to group
them (<tt class="docutils literal"><span class="pre">tuple</span></tt>, <tt class="docutils literal"><span class="pre">list</span></tt> and <tt class="docutils literal"><span class="pre">dict</span></tt>).</p>
<p>We then learn about how to loop over groups of things, which gives us
control to iterate some process.</p>
<p>We need to spend a little time on strings, as you will likely to quite a
bit of string processing in Scientific Computing (e.g. reading/writing
data to/from ASCII text files).</p>
<p>Although some of the examples we use are very simple to explain a
concept, the more developed ones should be directly applicable to the
sort of programming you are likely to need to do.</p>
<p>A set of exercises is developed throughout the chapter, with worked
answers available to you once you have had a go yourself.</p>
<p>In addition, a more advanced section of the chapter is available, that
goes into some more detail and complkications. This too has a set of
exercises with worked examples.</p>
<div class="section" id="python">
<h2>1.1 Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.python.org/">Python</a> is a high level programming language
that is freely available, relatively easy to learn and portable across
different computing systems. In Python, you can rapidly develop
solutions for the sorts of problems you might need to solve in your MSc
courses and in the world beyond. Code written in Python is also easy to
maintain, is (or should be) self-documented, and can easily be linked to
code written in other languages.</p>
<p>Relevant features include:</p>
<ul class="simple">
<li>it is automatically compiled and executed</li>
<li>code is portable provided you have the appropriate Python modules.</li>
<li>for compute intensive tasks, you can easily make calls to methods
written in (faster) lower-level languages such as C or FORTRAN</li>
<li>there is an active user and development community, which means that
new capabilities appear over time and there are many existing
extensions and enhancements easily available to you.</li>
</ul>
<p>For further background on Python, look over the material on <a class="reference external" href="https://python.g-node.org/wiki/schedule">Advanced
Scientific Programming in
Python</a> and/or the
<a class="reference external" href="http://software-carpentry.org/v3/py01.html">software-carpentry.org</a>
and <a class="reference external" href="http://www.python.org/">python.org</a> web sites.</p>
<p>In this session, you will be introduced to some of the basic concepts in
Python.</p>
</div>
<div class="section" id="running-python-programs">
<h2>1.2 Running Python Programs<a class="headerlink" href="#running-python-programs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="requirements">
<h3>1.2.1 Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p>For this course, we suggest you use the
<a class="reference external" href="https://store.continuum.io/cshop/anaconda/">anaconda</a> Python
distribution (this is what is installed in the unix lab computers),
though you are free to use whichever version of it you like on your own
computers.</p>
<p>If you are intending to use these notes on your opwn computer, you will
need a relatively comprehensive installation of Python (such as that
from <a class="reference external" href="https://store.continuum.io/cshop/anaconda/">anaconda</a>), and
will also need <a class="reference external" href="http://www.gdal.org/">GDAL</a> installed for some of the
work. You may also find it of value to have
<a class="reference external" href="http://git-scm.com/">git</a> installed.</p>
<p>We are assuming that you are new to computing in this course, but that
you are aware of the basic unix material covered in the previous
lecture.</p>
</div>
<div class="section" id="running-python">
<h3>2.2.2 Running Python<a class="headerlink" href="#running-python" title="Permalink to this headline">¶</a></h3>
<p>We will generally use the <tt class="docutils literal"><span class="pre">ipython</span></tt> interpreter for running
interactive Python programs.</p>
<p>You will probably want to run each session and store scripts in your
<tt class="docutils literal"><span class="pre">Data</span></tt> (or <tt class="docutils literal"><span class="pre">DATA</span></tt>) directory.</p>
<p>If you want to run the session directly in the notebook, you will need
to download the course material from
<a class="reference external" href="https://github.com/profLewis/geogg122">github</a> and run the notebook
with e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>berlin% cd ~/DATA
berlin% git clone https://github.com/profLewis/geogg122.git
</pre></div>
</div>
<p>to obtain the notes.</p>
<p>You should next check that you are using the version of Python that we
intend:</p>
<div class="highlight-python"><div class="highlight"><pre>berlin% which ipython
/opt/anaconda/bin/ipython
</pre></div>
</div>
<p>If this isn&#8217;t the version of Python that you are picking up (note the
use of the unix command <tt class="docutils literal"><span class="pre">which</span></tt> here), then you can either just type
the full path name:</p>
<div class="highlight-python"><div class="highlight"><pre>berlin% /opt/anaconda/bin/ipython
</pre></div>
</div>
<p>in place of where it says <tt class="docutils literal"><span class="pre">ipython</span></tt> in these notes, or modify your
shell initialisation file (<tt class="docutils literal"><span class="pre">~/.bashrc</span></tt> if you are using <tt class="docutils literal"><span class="pre">bash</span></tt> or
<tt class="docutils literal"><span class="pre">~/.cshrc</span></tt> for <tt class="docutils literal"><span class="pre">tcsh</span></tt> or <tt class="docutils literal"><span class="pre">csh</span></tt>) to include <tt class="docutils literal"><span class="pre">/opt/anaconda/bin</span></tt>
early on in the <tt class="docutils literal"><span class="pre">PATH</span></tt>.</p>
<p>To go to the directory for this session:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">berlin%</span> <span class="pre">cd</span> <span class="pre">~/Data/geogg122/Chapter2_Python_intro</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">berlin%</span> <span class="pre">ipython</span> <span class="pre">notebook</span> <span class="pre">python101.ipynb</span> <span class="pre">--pylab=inline</span></tt></div>
</div>
<p>You quit an <tt class="docutils literal"><span class="pre">ipython</span></tt> notebook session with <tt class="docutils literal"><span class="pre">^C</span></tt> (<tt class="docutils literal"><span class="pre">Control</span> <span class="pre">C</span></tt>).</p>
<p>To exectute (&#8216;run&#8217;) blocks of Python code in the notebook, use
<tt class="docutils literal"><span class="pre">^&lt;return&gt;</span></tt> (<tt class="docutils literal"><span class="pre">SHIFT</span></tt> and <tt class="docutils literal"><span class="pre">RETURN</span></tt> keys together).</p>
<p>Alternatively, just run <tt class="docutils literal"><span class="pre">ipython</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>berlin% cd ~/Data/geogg122/Chapter2_Python_intro
berlin% ipython --pylab=inline
</pre></div>
</div>
<p>and type your own commands in at the prompt, following the class or the
material on the webpages.</p>
</div>
</div>
<div class="section" id="getting-started">
<h2>2.3 Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="variables-values-and-data-types">
<h3>2.3.1 Variables, Values and Data types<a class="headerlink" href="#variables-values-and-data-types" title="Permalink to this headline">¶</a></h3>
<p>The idea of <strong>variables</strong> is fundamental to any programming. You can
think of this as the <em>name</em> of <em>something</em>, so it is a way of allowing
us to refer to some object in the language.</p>
<p>What the variable <em>is</em> set to is called its <strong>value</strong>.</p>
<p>So let&#8217;s start with a variable we will call (<em>declare to be</em>) <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
<p>We will give the <em>value</em> <tt class="docutils literal"><span class="pre">1</span></tt> to this variable:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>In a computing language, the <em>sort of thing</em> the variable can be set to
is called its <strong>data type</strong>.</p>
<p>In the example above, the datatype is an <strong>integer</strong> number (e.g.
<tt class="docutils literal"><span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4</span></tt>).</p>
<p>In &#8216;natural language&#8217;, we might read the example above as &#8216;x is one&#8217;.</p>
<p>This is different to:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="s">&#39;one&#39;</span>
</pre></div>
</div>
<p>because here we have set value of the variable <tt class="docutils literal"><span class="pre">x</span></tt> to a <strong>string</strong>
(i.e. some text).</p>
<p>A string is enclosed in quotes, e.g. <tt class="docutils literal"><span class="pre">&quot;one&quot;</span></tt> or <tt class="docutils literal"><span class="pre">'one'</span></tt>, or even
<tt class="docutils literal"><span class="pre">&quot;'one'&quot;</span></tt> or <tt class="docutils literal"><span class="pre">'&quot;one&quot;'</span></tt>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;one&quot;</span>
<span class="k">print</span> <span class="s">&#39;one&#39;</span>
<span class="k">print</span> <span class="s">&quot;&#39;one&#39;&quot;</span>
<span class="k">print</span> <span class="s">&#39;&quot;one&quot;&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">one</span>
<span class="n">one</span>
<span class="s">&#39;one&#39;</span>
<span class="s">&quot;one&quot;</span>
</pre></div>
</div>
<p>This is different to:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>because here we have set value of the variable <tt class="docutils literal"><span class="pre">x</span></tt> to a <strong>floating
point</strong> number (these are treated and stored differently to integers in
computing).</p>
<p>This is different to:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">True</span></tt> is a <strong>logical</strong> or <strong>boolean</strong> datatype (something is
<tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt>).</p>
<p>We have so far seen three datatypes:</p>
<ul class="simple">
<li>integer (<tt class="docutils literal"><span class="pre">int</span></tt>): 32 bits long on most machines</li>
<li>(double-precision) floating point (<tt class="docutils literal"><span class="pre">float</span></tt>): (64 bits long)</li>
<li>Boolean (<tt class="docutils literal"><span class="pre">bool</span></tt>)</li>
<li>string (<tt class="docutils literal"><span class="pre">str</span></tt>)</li>
</ul>
<p>but we will come across more (and even create our own!) as we go through
the course.</p>
<div class="section" id="type">
<h4>type<a class="headerlink" href="#type" title="Permalink to this headline">¶</a></h4>
<p>In each of these cases above, we have used the variable <tt class="docutils literal"><span class="pre">x</span></tt> to contain
these different data types. If you want to know what the data type of a
variable is, you can use the method <tt class="docutils literal"><span class="pre">type()</span></tt></p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
<span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="s">&#39;one&#39;</span><span class="p">);</span>
<span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="bp">True</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;type &#39;int&#39;&gt;
&lt;type &#39;float&#39;&gt;
&lt;type &#39;str&#39;&gt;
&lt;type &#39;bool&#39;&gt;
</pre></div>
</div>
<p>You can explicitly convert between data types, e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&#39;int(1.1) = &#39;</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;float(1) = &#39;</span><span class="p">,</span><span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;str(1) = &#39;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;bool(1) = &#39;</span><span class="p">,</span><span class="nb">bool</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">int</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span>  <span class="mf">1.0</span>
<span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="nb">bool</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span>  <span class="bp">True</span>
</pre></div>
</div>
<p>but only when it makes sense:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;converting the string &#39;1&#39; to an integer makes sense:&quot;</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="s">&#39;1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>converting the string &#39;1&#39; to an integer makes sense: 1
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;converting the string &#39;one&#39; to an integer doesn&#39;t:&quot;</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="s">&#39;one&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)

&lt;ipython-input-9-20c6d9c1fc49&gt; in &lt;module&gt;()
----&gt; 1 print &quot;converting the string &#39;one&#39; to an integer doesn&#39;t:&quot;,int(&#39;one&#39;)


ValueError: invalid literal for int() with base 10: &#39;one&#39;
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>converting the string &#39;one&#39; to an integer doesn&#39;t:
</pre></div>
</div>
<p>When you get an error (such as above), you will need to learn to <em>read</em>
the error message to work out what you did wrong.</p>
</div>
<div class="section" id="del">
<h4>del<a class="headerlink" href="#del" title="Permalink to this headline">¶</a></h4>
<p>You can delete a variable with <tt class="docutils literal"><span class="pre">del</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mf">100.</span>
<span class="k">print</span> <span class="n">x</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">100.0</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mf">100.</span>
<span class="k">del</span> <span class="n">x</span>

<span class="c"># so now if we try to do anything with the variable</span>
<span class="c"># x, it should fail as x is no longer defined</span>
<span class="k">print</span> <span class="n">x</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)

&lt;ipython-input-11-f602427acddb&gt; in &lt;module&gt;()
      4 # so now if we try to do anything with the variable
      5 # x, it should fail as x is no longer defined
----&gt; 6 print x


NameError: name &#39;x&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="section" id="arithmetic">
<h3>2.3.2 Arithmetic<a class="headerlink" href="#arithmetic" title="Permalink to this headline">¶</a></h3>
<p>Often we will want to do some
<a class="reference external" href="http://www.tutorialspoint.com/python/python_basic_operators.htm">arithmetic</a>
with numbers in a program, and we use the &#8216;normal&#8217; (derived from C)
operators for this.</p>
<p>Note the way this works for integers and floating point representations.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Some examples of arithmetic operations in Python</span>

<span class="sd">    Note how, if we mix float and int, the result is raised to float</span>
<span class="sd">    (as the more general form)</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="k">print</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">100</span>     <span class="c"># int addition</span>
<span class="k">print</span> <span class="mf">10.</span> <span class="o">-</span> <span class="mi">100</span>    <span class="c"># float subtraction</span>
<span class="k">print</span> <span class="mf">1.</span><span class="o">/</span><span class="mf">2.</span>        <span class="c"># float division</span>
<span class="k">print</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>          <span class="c"># int division</span>
<span class="k">print</span> <span class="mf">10.</span><span class="o">*</span><span class="mf">20.</span>      <span class="c"># float multiplication</span>
<span class="k">print</span> <span class="mi">2</span> <span class="o">**</span> <span class="mf">3.</span>      <span class="c"># float exponent</span>
<span class="k">print</span> <span class="mi">8</span><span class="o">%</span><span class="mi">2</span>          <span class="c"># int remainder</span>

<span class="k">print</span> <span class="s">&#39;========&#39;</span>
<span class="c"># demonstration of floor (//) and remainder (%)</span>
<span class="n">number</span>    <span class="o">=</span> <span class="mf">9.5</span>
<span class="n">base</span>      <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">remainder</span> <span class="o">=</span> <span class="n">number</span><span class="o">%</span><span class="n">base</span> <span class="c"># float remainder</span>
<span class="n">floor</span>     <span class="o">=</span> <span class="n">number</span><span class="o">//</span><span class="n">base</span> <span class="c"># &#39;floor&#39; operation</span>
<span class="k">print</span> <span class="n">number</span><span class="p">,</span><span class="s">&#39;is&#39;</span><span class="p">,</span><span class="n">floor</span><span class="p">,</span><span class="s">&#39;times&#39;</span><span class="p">,</span><span class="n">base</span><span class="p">,</span><span class="s">&#39;plus&#39;</span><span class="p">,</span><span class="n">remainder</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>110
-90.0
0.5
0
200.0
8.0
0
========
9.5 is 4.0 times 2.0 plus 1.5
</pre></div>
</div>
</div>
<div class="section" id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Permalink to this headline">¶</a></h3>
<p>Change the numbers in the examples above to make sure you understand
these basic operations.</p>
<p>Try combining operations and use brackets () to check that that works as
expected.</p>
</div>
<div class="section" id="assignment-operators">
<h3>2.3.3 Assignment Operators<a class="headerlink" href="#assignment-operators" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Assignment operators</span>

<span class="sd">    x = 3   assigns the value 3 to the variable x</span>
<span class="sd">    x += 2  adds 2 onto the value of x</span>
<span class="sd">            so is the same as x = x + 2</span>
<span class="sd">            similarly /=, *=, -=</span>
<span class="sd">    x %= 2  is the same as x = x % 2</span>
<span class="sd">    x **= 2 is the same as x = x ** 2</span>
<span class="sd">    x //= 2 is the same as x = x // 2</span>

<span class="sd">    A &#39;magic&#39; trick</span>
<span class="sd">    ===============</span>

<span class="sd">    http://www.wikihow.com/Read-Someone\</span>
<span class="sd">        %27s-Mind-With-Math-%28Math-Trick%29</span>

<span class="sd">    whatever you put as myNumber, the answer is 3</span>

<span class="sd">    Try this with integers or floating point numbers ...</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c"># pick a number</span>
<span class="n">myNumber</span> <span class="o">=</span> <span class="mf">34.67</span>

<span class="c"># assign this to the variable x</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">myNumber</span>

<span class="c"># multiply it by 2</span>
<span class="n">x</span> <span class="o">*=</span> <span class="mi">2</span>

<span class="c"># multiply this by 5</span>
<span class="n">x</span> <span class="o">*=</span> <span class="mi">5</span>

<span class="c"># divide by the original number</span>
<span class="n">x</span> <span class="o">/=</span> <span class="n">myNumber</span>

<span class="c"># subtract 7</span>
<span class="n">x</span> <span class="o">-=</span> <span class="mi">7</span>

<span class="c"># The answer will always be 3</span>
<span class="k">print</span> <span class="n">x</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">3.0</span>
</pre></div>
</div>
</div>
<div class="section" id="logical-operators">
<h3>2.3.4 Logical Operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Logical operators</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="n">alive</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">dead</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">alive</span>
<span class="k">print</span> <span class="s">&#39;dead or alive is&#39;</span><span class="p">,</span><span class="n">dead</span> <span class="ow">or</span> <span class="n">alive</span>
<span class="k">print</span> <span class="s">&#39;dead and alive is&#39;</span><span class="p">,</span><span class="n">dead</span> <span class="ow">and</span> <span class="n">alive</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dead</span> <span class="ow">or</span> <span class="n">alive</span> <span class="ow">is</span> <span class="bp">True</span>
<span class="n">dead</span> <span class="ow">and</span> <span class="n">alive</span> <span class="ow">is</span> <span class="bp">False</span>
</pre></div>
</div>
<p>The result of running comparison operators will give a logical (i.e.
<tt class="docutils literal"><span class="pre">bool</span></tt>) output.</p>
<p>Most of this should be obvious, but consider carefully how this works
for string data types.</p>
</div>
<div class="section" id="comparison-operators">
<h3>2.3.5 Comparison Operators<a class="headerlink" href="#comparison-operators" title="Permalink to this headline">¶</a></h3>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Related, comparison operators:</span>

<span class="sd">    ==  : equvalence</span>
<span class="sd">    !=  : not equivalent</span>
<span class="sd">    &gt;   : greater than</span>
<span class="sd">    &gt;=  : greater than or equal to</span>
<span class="sd">    &lt;   : less than</span>
<span class="sd">    &lt;=  : less than or equal to</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="k">print</span> <span class="s">&quot;is one plus one equal to two?&quot;</span>
<span class="k">print</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span>

<span class="k">print</span> <span class="s">&quot;is one less than or equal to 0.999?&quot;</span>
<span class="k">print</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="mf">0.999</span>

<span class="k">print</span> <span class="s">&quot;is one plus one not equal to two?&quot;</span>
<span class="k">print</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">!=</span> <span class="mi">2</span>

<span class="c"># note the use of double quotes inside a single quoted string here</span>
<span class="k">print</span> <span class="s">&#39;is &quot;Hello&quot; not the same as &quot;hello&quot;?&#39;</span>
<span class="k">print</span> <span class="s">&#39;Hello&#39;</span> <span class="o">!=</span> <span class="s">&#39;hello&#39;</span>

<span class="c"># note the use of single quotes inside a double quoted string here</span>
<span class="k">print</span> <span class="s">&quot;is &#39;more&#39; greater than &#39;less&#39;?&quot;</span>
<span class="k">print</span> <span class="s">&quot;more&quot;</span> <span class="o">&gt;</span> <span class="s">&quot;less&quot;</span>

<span class="k">print</span> <span class="s">&quot;is &#39;100&#39; less than &#39;2&#39;?&quot;</span>
<span class="k">print</span> <span class="s">&#39;100&#39;</span> <span class="o">&lt;</span> <span class="s">&#39;2&#39;</span>

<span class="k">print</span> <span class="s">&quot;is 100 less than 2?&quot;</span>
<span class="k">print</span> <span class="mi">100</span> <span class="o">&lt;</span> <span class="mi">2</span>

<span class="c"># a boolean example just to see what happens</span>
<span class="k">print</span> <span class="s">&quot;is True greater than False?&quot;</span>
<span class="k">print</span> <span class="bp">True</span> <span class="o">&gt;</span> <span class="bp">False</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>is one plus one equal to two?
True
is one less than or equal to 0.999?
False
is one plus one not equal to two?
False
is &quot;Hello&quot; not the same as &quot;hello&quot;?
True
is &#39;more&#39; greater than &#39;less&#39;?
True
is &#39;100&#39; less than &#39;2&#39;?
True
is 100 less than 2?
False
is True greater than False?
True
</pre></div>
</div>
<p>We can combine such logical statements, bracketing the terms as
required:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">True</span> <span class="ow">or</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">True</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>

<span class="sd">&quot;&quot;&quot;Exercise in logical statements</span>

<span class="sd">   P. Lewis p.lewis@ucl.ac.uk</span>

<span class="sd">   Tue  8 Oct 2013 10:11:03 BST</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c"># hunger threshold in hours</span>
<span class="n">hungerThreshold</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="c"># sleep threshold in hours</span>
<span class="n">sleepThreshold</span> <span class="o">=</span> <span class="mf">8.0</span>

<span class="c"># time since fed, in hours</span>
<span class="n">timeSinceFed</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="c"># time since sleep, in hours</span>
<span class="n">timeSinceSleep</span> <span class="o">=</span> <span class="mf">3.0</span>

<span class="c"># Note use of \ as line continuation here</span>
<span class="c"># It is poor style to have code lines &gt; 79 characters</span>
<span class="c">#</span>
<span class="c"># see http://www.python.org/dev/peps/pep-0008/#maximum-line-length</span>
<span class="c">#</span>
<span class="k">print</span> <span class="s">&quot;Tired and hungry?&quot;</span><span class="p">,(</span><span class="n">timeSinceSleep</span> <span class="o">&gt;=</span> <span class="n">sleepThreshold</span><span class="p">)</span> <span class="ow">and</span> \
                            <span class="p">(</span><span class="n">timeSinceFed</span> <span class="o">&gt;=</span> <span class="n">hungerThreshold</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Just tired?&quot;</span><span class="p">,(</span><span class="n">timeSinceSleep</span> <span class="o">&gt;=</span> <span class="n">sleepThreshold</span><span class="p">)</span> <span class="ow">and</span> \
                            <span class="p">(</span><span class="ow">not</span> <span class="p">(</span><span class="n">timeSinceFed</span> <span class="o">&gt;=</span> <span class="n">hungerThreshold</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&quot;Just hungry?&quot;</span><span class="p">,(</span><span class="ow">not</span> <span class="p">(</span><span class="n">timeSinceSleep</span> <span class="o">&gt;=</span> <span class="n">sleepThreshold</span><span class="p">))</span> <span class="ow">and</span> \
                            <span class="p">(</span><span class="n">timeSinceFed</span> <span class="o">&gt;=</span> <span class="n">hungerThreshold</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Tired and hungry? False
Just tired? False
Just hungry? True
</pre></div>
</div>
</div>
<div class="section" id="exercise-2-1">
<h3>Exercise 2.1<a class="headerlink" href="#exercise-2-1" title="Permalink to this headline">¶</a></h3>
<p>The code above works fine, but the large blocks of logical tests are not
very clear or readable, and contain repeated items.</p>
<p>Type the code into a file (or <a class="reference external" href="files/python/hungry.py">download it</a>).</p>
<p>To run the code <em>either</em> type at the unix prompt:</p>
<p><tt class="docutils literal"><span class="pre">berlin%</span> <span class="pre">python</span> <span class="pre">hungry.py</span></tt></p>
<p>OR, within ipython:</p>
<p><tt class="docutils literal"><span class="pre">In</span> <span class="pre">[17]:</span> <span class="pre">run</span> <span class="pre">hungry.py</span></tt></p>
<p>Modify this block of code to be clearer by assigning the individual
logical tests to variables,</p>
<p>e.g.</p>
<p><tt class="docutils literal"><span class="pre">tired</span> <span class="pre">=</span> <span class="pre">timeSinceSleep</span> <span class="pre">&gt;=</span> <span class="pre">sleepThreshold</span></tt></p>
</div>
</div>
<div class="section" id="groups-of-things">
<h2>2.4 Groups of things<a class="headerlink" href="#groups-of-things" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tuples-lists-and-dictionaries">
<h3>2.4.1 tuples, lists and dictionaries<a class="headerlink" href="#tuples-lists-and-dictionaries" title="Permalink to this headline">¶</a></h3>
<p>Very often, we will want to group items together.</p>
<p>There are several main mechanisms for doing this in Python, known as:</p>
<ul class="simple">
<li>tuple, e.g. (1, 2, 3)</li>
<li>list, e.g. [1, 2, 3]</li>
<li>dict, e.g. {1:&#8217;one&#8217;, 2:&#8217;two&#8217;, 3:&#8217;three&#8217;}</li>
</ul>
<p>You will notice that each of these grouping structures uses a different
form of bracket.</p>
<div class="section" id="tuple">
<h4>tuple<a class="headerlink" href="#tuple" title="Permalink to this headline">¶</a></h4>
<p>A <tt class="docutils literal"><span class="pre">tuple</span></tt> is a group of items separated by commas.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">,</span> <span class="bp">False</span>
<span class="k">print</span> <span class="n">t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that when you declare the tuple, you don&#8217;t need to put the braces
(brackets) as this is implicit.</p>
<p>Often though, it is a good idea to do so.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="k">print</span> <span class="n">t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>If there is only one element in a tuple, you must put a comma <tt class="docutils literal"><span class="pre">,</span></tt> at
the end, otherwise it is <em>not</em> interpreted as a tuple:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">t</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>1 &lt;type &#39;int&#39;&gt;
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
<span class="k">print</span> <span class="n">t</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>(1,) &lt;type &#39;tuple&#39;&gt;
</pre></div>
</div>
<p>You can have an <em>empty</em> tuple though:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">()</span>
<span class="k">print</span> <span class="n">t</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>() &lt;type &#39;tuple&#39;&gt;
</pre></div>
</div>
<p>Notice that the tuple can contain data of different types.</p>
<p>It can also be nested (i.e. a tuple can contain a tuple):</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="mi">6</span><span class="p">)</span>
<span class="k">print</span> <span class="n">t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">((</span><span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
<p>Some operations we can perform on tuples include:</p>
<ul class="simple">
<li>length : <tt class="docutils literal"><span class="pre">len()</span></tt></li>
<li>selection (&#8216;slice&#8217;) : []</li>
</ul>
</div>
<div class="section" id="len">
<h4>len<a class="headerlink" href="#len" title="Permalink to this headline">¶</a></h4>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># set up a simple tuple</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;The length of the tuple (1,2,3) is&quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

<span class="c"># a nested example</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,(</span><span class="s">&#39;2a&#39;</span><span class="p">,</span><span class="s">&#39;2b&#39;</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;The length of the tuple (1,2,3) is&quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>The length of the tuple (1,2,3) is 3
The length of the tuple (1,2,3) is 3
</pre></div>
</div>
</div>
<div class="section" id="slice">
<h4>slice<a class="headerlink" href="#slice" title="Permalink to this headline">¶</a></h4>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># select an item with []</span>
<span class="c"># note the first item is 0, i.e. we start counting at 0</span>
<span class="c"># Python uses a 0-based indexing system</span>

<span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;it&#39;</span><span class="p">,</span><span class="s">&#39;is&#39;</span><span class="p">,</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;truth&#39;</span><span class="p">,</span><span class="s">&#39;universally&#39;</span><span class="p">,</span><span class="s">&#39;acknowledged&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;item 0&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&#39;item 4&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>item 0 it
item 4 universally
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># using negative to count from the end</span>
<span class="c"># so -1 is the last item, -2 the second to last etc</span>

<span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;it&#39;</span><span class="p">,</span><span class="s">&#39;is&#39;</span><span class="p">,</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;truth&#39;</span><span class="p">,</span><span class="s">&#39;universally&#39;</span><span class="p">,</span><span class="s">&#39;acknowledged&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;item -1&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&#39;item -3&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>item -1 acknowledged
item -3 truth
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># select a range (a &#39;slice&#39;) of items with [start:end:step]</span>

<span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;it&#39;</span><span class="p">,</span><span class="s">&#39;is&#39;</span><span class="p">,</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;truth&#39;</span><span class="p">,</span><span class="s">&#39;universally&#39;</span><span class="p">,</span><span class="s">&#39;acknowledged&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;items 0:1</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>        <span class="c"># 0 to 1, so only item 0</span>
<span class="k">print</span> <span class="s">&#39;items 0:2</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>        <span class="c"># 0 to 2, so items 0 and 1</span>
<span class="k">print</span> <span class="s">&#39;items :4:2</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[:</span><span class="mi">4</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>      <span class="c"># :4:2 so items 0 (implicit) to 4, in steps of 2</span>
                                  <span class="c"># so items 0 and 3</span>
<span class="k">print</span> <span class="s">&#39;items ::-1</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>      <span class="c"># 0 to end in steps of -1, so reverse order</span>
<span class="k">print</span> <span class="s">&#39;items 1:-1:2</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>  <span class="c"># 1 to -1 in steps of 2 so items 1 and 3</span>

<span class="c"># Note the use of \t in the strings above e.g. &#39;items 0:1\t&#39;</span>
<span class="c"># where \t is a tab character (for prettier formatting)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>items 0:1   (&#39;it&#39;,)
items 0:2   (&#39;it&#39;, &#39;is&#39;)
items :4:2  (&#39;it&#39;, &#39;a&#39;)
items ::-1  (&#39;acknowledged&#39;, &#39;universally&#39;, &#39;truth&#39;, &#39;a&#39;, &#39;is&#39;, &#39;it&#39;)
items 1:-1:2        (&#39;is&#39;, &#39;truth&#39;)
</pre></div>
</div>
<p>In effect, when we set up a tuple, we are <em>packing</em> some group of items
together:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;past&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;foreign&#39;</span><span class="p">,</span> <span class="s">&#39;country&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>And we can similarly <em>unpack</em>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">t</span>

<span class="k">print</span> <span class="s">&#39;a:&#39;</span><span class="p">,</span><span class="n">a</span>
<span class="k">print</span> <span class="s">&#39;b:&#39;</span><span class="p">,</span><span class="n">b</span>
<span class="k">print</span> <span class="s">&#39;c:&#39;</span><span class="p">,</span><span class="n">c</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>a: the
b: past
c: (&#39;is&#39;, &#39;a&#39;, &#39;foreign&#39;, &#39;country&#39;)
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;As&#39;</span><span class="p">,</span> <span class="s">&#39;Gregor&#39;</span><span class="p">,</span> <span class="s">&#39;Samsa&#39;</span><span class="p">,</span> <span class="s">&#39;awoke&#39;</span><span class="p">,</span> <span class="s">&#39;one&#39;</span><span class="p">,</span> <span class="s">&#39;morning&#39;</span><span class="p">)</span>

<span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&#39;a:&#39;</span><span class="p">,</span><span class="n">a</span>
<span class="k">print</span> <span class="s">&#39;b:&#39;</span><span class="p">,</span><span class="n">b</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>a: Gregor
b: awoke
</pre></div>
</div>
<p>The set of operations we can perform on tuples includes:</p>
<table>
    <tr><td><p>Name</p>
</td><td><p>Example</p>
</td><td><p>Result</p>
</td><td><p>Meaning</p>
</td></tr>
    <tr><td><pre>len()</pre></td><td><pre>len((1,2,(3,4))</pre></td><td><pre>3</pre></td><td><p>Length</p>
</td></tr>
    <tr><td><pre>+</pre></td><td><pre>(1,2) + (3,4,5)</pre></td><td><pre>(1,2,3,4,5)</pre></td><td><p>Concatenate (join)</p>
</td></tr>
    <tr><td><pre>\*</pre></td><td><pre>(1,2) * 3</pre></td><td><pre>(1, 2, 1, 2, 1, 2, 1, 2)</pre></td><td><p>Repetition</p>
</td></tr>
    <tr><td><pre>in</pre></td><td><pre>2 in (1,2,3,4)</pre></td><td><pre>True</pre></td><td><p>Membership</p>
</td></tr>
    <tr><td><pre>index</pre></td><td><pre>('a','b','c','d').index('c')</pre></td><td><pre>2</pre></td><td><p><p>Index</p>
</p><p><p>T.index(value, [start, [stop]]) -&gt; integer &#8211; return first index of
value.</p>
</p><p><p>Raises ValueError if the value is not present</p>
</p></td></tr>
    <tr><td><pre>count</pre></td><td><pre>('a','b','c','c','d','c').count('c')</pre></td><td><pre>3</pre></td><td><p><p>Count</p>
</p><p><p>T.count(value) -&gt; integer &#8211; return number of occurrences of value</p>
</p></td></tr>
    <tr><td><pre>min(), max()</pre></td><td><p><pre>min(('a','b','c'))</pre></p><p><pre>max((3,4,1))</pre></p></td><td><p><pre>'a'</pre></p><p><pre>4</pre></p></td><td><p>Minimum, maximum</p>
</td></tr>
    <tr><td><pre>tuple()</pre></td><td><p><pre>tuple([1,2,3])</pre></p><p><pre>tuple('hello')</pre></p><p><pre>tuple({1:'one',2:'two'})</pre></p></td><td><p><pre>(1,2,3)</pre></p><p><pre>('h', 'e', 'l', 'l', 'o')</pre></p><p><pre>(1,2)</pre></p></td><td><p>Convert to tuple</p>
</td></tr>
</table><p>You will find that these basic operators work with any of the group
types, so you should make sure you are aware of them.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># some examples</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">tuple(&#39;hello world&#39;):</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="nb">tuple</span><span class="p">(</span><span class="s">&#39;hello world&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">tuple(&#39;hello world&#39;).count(&#39;o&#39;):</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="nb">tuple</span><span class="p">(</span><span class="s">&#39;hello world&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;o&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">(&#39;1&#39;,)*5 + (1,)*5:</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,(</span><span class="s">&#39;1&#39;</span><span class="p">,)</span><span class="o">*</span><span class="mi">5</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span><span class="o">*</span><span class="mi">5</span>

<span class="c"># Note use of \t in string for tab and \n for newline</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>tuple(&#39;hello world&#39;):
    (&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;)

tuple(&#39;hello world&#39;).count(&#39;o&#39;):
    2

(&#39;1&#39;,)*5 + (1,)*5:
    (&#39;1&#39;, &#39;1&#39;, &#39;1&#39;, &#39;1&#39;, &#39;1&#39;, 1, 1, 1, 1, 1)
</pre></div>
</div>
<p>You <strong>cannot</strong> directly replace an element in a tuple:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;three&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

&lt;ipython-input-32-0dc2fa4129fe&gt; in &lt;module&gt;()
      1 t = (1,2,3,4)
----&gt; 2 t[2] = &#39;three&#39;


TypeError: &#39;tuple&#39; object does not support item assignment
</pre></div>
</div>
<p>so you would need to find another way to do this, e.g.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="s">&#39;three&#39;</span><span class="p">,)</span> <span class="o">+</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
<span class="k">print</span> <span class="n">t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Neither can you delete an item in a tuple:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="k">del</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="k">print</span> <span class="n">t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

&lt;ipython-input-34-b33678abdb80&gt; in &lt;module&gt;()
      1 t = (1,2,3,4)
      2
----&gt; 3 del t[2]
      4 print t


TypeError: &#39;tuple&#39; object doesn&#39;t support item deletion
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># again, find another way around</span>

<span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
<span class="k">print</span> <span class="n">t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="string-as-a-group">
<h4>string as a group<a class="headerlink" href="#string-as-a-group" title="Permalink to this headline">¶</a></h4>
<p>You might have noticed that a string data type <tt class="docutils literal"><span class="pre">str</span></tt> acts as a
collection of individual characters, e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">word</span> <span class="o">=</span> <span class="s">&#39;hello world&#39;</span>

<span class="k">print</span> <span class="s">&quot;word =</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">word</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>

<span class="k">print</span> <span class="s">&quot;tuple(word) =</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="nb">tuple</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="c"># slice</span>
<span class="k">print</span> <span class="s">&quot;word[2:5] =</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">word</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
<span class="c"># len</span>
<span class="k">print</span> <span class="s">&quot;len(word) =</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="c"># max (similarly min)</span>
<span class="k">print</span> <span class="s">&quot;max(word) =</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="c"># in (membership)</span>
<span class="k">print</span> <span class="s">&quot;&#39;w&#39; in word =</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&#39;w&#39;</span> <span class="ow">in</span> <span class="n">word</span>
<span class="c"># count</span>
<span class="k">print</span> <span class="s">&quot;word.count(&#39;l&#39;)=</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">word</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;l&#39;</span><span class="p">)</span>
<span class="c"># index</span>
<span class="k">print</span> <span class="s">&quot;word.index(&#39;l&#39;)=</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">word</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">&#39;l&#39;</span><span class="p">)</span>
<span class="c"># + (concatenation)</span>
<span class="k">print</span> <span class="s">&quot;word + &#39; again&#39;=</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">word</span> <span class="o">+</span> <span class="s">&#39; again&#39;</span>
<span class="c"># * (repetition)</span>
<span class="k">print</span> <span class="s">&quot;word * 2=</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">word</span><span class="o">*</span><span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>word =      hello world

tuple(word) =       (&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;)
word[2:5] = llo
len(word) = 11
max(word) = w
&#39;w&#39; in word =       True
word.count(&#39;l&#39;)=    3
word.index(&#39;l&#39;)=    2
word + &#39; again&#39;=    hello world again
word * 2=   hello worldhello world
</pre></div>
</div>
<p>This sort of consistency or operation is one of the things that makes
Python a good language to program in.</p>
</div>
<div class="section" id="list">
<h4>list<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h4>
<p><em>lists</em> or <em>sequences</em> are contained within square brackets <tt class="docutils literal"><span class="pre">[]</span></tt>:</p>
<p>The operators available for tuple work in much the same way as for lists
(more formally, sequences):</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="n">t</span>

<span class="sd">&quot;&quot;&quot;slicing is the same as for tuples&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----slice----&quot;</span>
<span class="k">print</span> <span class="s">&#39;t[:4:2]:</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[:</span><span class="mi">4</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>       <span class="c"># 0th item to 4th in steps of 2, so 0,2</span>
<span class="k">print</span> <span class="s">&#39;t[::-1]:</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>       <span class="c"># reversal</span>


<span class="sd">&quot;&quot;&quot;index&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----index----&quot;</span>
<span class="k">print</span> <span class="s">&#39;t.index(&quot;best&quot;):</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">&#39;best&#39;</span><span class="p">)</span>


<span class="sd">&quot;&quot;&quot;plus&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----plus----&quot;</span>
<span class="k">print</span> <span class="s">&quot;t = [&#39;It&#39;, &#39;was&#39;] + [&#39;the&#39;, &#39;best&#39;, &#39;of&#39;, &#39;times&#39;]</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">t</span>


<span class="sd">&quot;&quot;&quot;multiply&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s">&#39;best&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="p">[</span><span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----multiply----&quot;</span>
<span class="k">print</span> <span class="s">&quot;t = [&#39;It&#39;, &#39;was&#39;, &#39;the&#39;] + [&#39;best&#39;] * 3 + [&#39;of&#39;, &#39;times&#39;]</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[&#39;It&#39;, &#39;was&#39;, &#39;the&#39;, &#39;best&#39;, &#39;of&#39;, &#39;times&#39;]

----slice----
t[:4:2]:
    [&#39;It&#39;, &#39;the&#39;]
t[::-1]:
    [&#39;times&#39;, &#39;of&#39;, &#39;best&#39;, &#39;the&#39;, &#39;was&#39;, &#39;It&#39;]

----index----
t.index(&quot;best&quot;):
    3

----plus----
t = [&#39;It&#39;, &#39;was&#39;] + [&#39;the&#39;, &#39;best&#39;, &#39;of&#39;, &#39;times&#39;]
    [&#39;It&#39;, &#39;was&#39;, &#39;the&#39;, &#39;best&#39;, &#39;of&#39;, &#39;times&#39;]

----multiply----
t = [&#39;It&#39;, &#39;was&#39;, &#39;the&#39;] + [&#39;best&#39;] * 3 + [&#39;of&#39;, &#39;times&#39;]
    [&#39;It&#39;, &#39;was&#39;, &#39;the&#39;, &#39;best&#39;, &#39;best&#39;, &#39;best&#39;, &#39;of&#39;, &#39;times&#39;]
</pre></div>
</div>
<p>But there are many other things one can do with a list, e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;replace&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----replace----&quot;</span>
<span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;New&#39;</span><span class="p">,</span><span class="s">&#39;York&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;t[3:5] = &#39;New York&#39;:</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">t</span>


<span class="sd">&quot;&quot;&quot;index and replace&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----index and replace----&quot;</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">&#39;best&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="s">&#39;worst&#39;</span>
<span class="k">print</span> <span class="s">&#39;t[t.index(&quot;best&quot;)] = &quot;worst&quot;:</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span>


<span class="sd">&quot;&quot;&quot;can delete one or more items&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----del item----&quot;</span>
<span class="k">del</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>                         <span class="c"># delete items 2 to 4, i.e. 2, 3</span>
                                   <span class="c"># i.e. &#39;the&#39;, &#39;best&#39;</span>
<span class="k">print</span> <span class="s">&#39;del t[2:4]:</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span>


<span class="sd">&quot;&quot;&quot;can sort&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----sort----&quot;</span>
<span class="n">t</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>                           <span class="c"># sort inplace</span>

<span class="k">print</span> <span class="s">&#39;t.sort():</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">t</span>


<span class="sd">&quot;&quot;&quot;can insert&quot;&quot;&quot;</span>
<span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;It&#39;</span><span class="p">,</span> <span class="s">&#39;was&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;best&#39;</span><span class="p">,</span> <span class="s">&#39;of&#39;</span><span class="p">,</span> <span class="s">&#39;times&#39;</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">----insert----&quot;</span>
<span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;really&#39;</span><span class="p">)</span>               <span class="c"># insert inplace</span>

<span class="k">print</span> <span class="s">&quot;t.insert(1,&#39;really&#39;):</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>----replace----
t[3:5] = &#39;New York&#39;:
    [&#39;It&#39;, &#39;was&#39;, &#39;the&#39;, &#39;New&#39;, &#39;York&#39;, &#39;times&#39;]

----index and replace----
t[t.index(&quot;best&quot;)] = &quot;worst&quot;:
    [&#39;It&#39;, &#39;was&#39;, &#39;the&#39;, &#39;worst&#39;, &#39;of&#39;, &#39;times&#39;]

----del item----
del t[2:4]:
    [&#39;It&#39;, &#39;was&#39;, &#39;of&#39;, &#39;times&#39;]

----sort----
t.sort():
    [&#39;It&#39;, &#39;best&#39;, &#39;of&#39;, &#39;the&#39;, &#39;times&#39;, &#39;was&#39;]

----insert----
t.insert(1,&#39;really&#39;):
    [&#39;It&#39;, &#39;really&#39;, &#39;was&#39;, &#39;the&#39;, &#39;best&#39;, &#39;of&#39;, &#39;times&#39;]
</pre></div>
</div>
</div>
<div class="section" id="range">
<h4>range<a class="headerlink" href="#range" title="Permalink to this headline">¶</a></h4>
<p>Many functions that return multiple items will make use of a list to do
so.</p>
<p>An example of this that we will use below is
<tt class="docutils literal"><span class="pre">`range(start,stop,step)</span></tt> &lt;<a class="reference external" href="http://docs.python.org/2/library/functions.html#range">http://docs.python.org/2/library/functions.html#range</a>&gt;`__
that returns a list of integers from <tt class="docutils literal"><span class="pre">start</span></tt> to (but not including)
<tt class="docutils literal"><span class="pre">stop</span></tt> in steps of <tt class="docutils literal"><span class="pre">step</span></tt>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># set a value 3 to the variable x</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c"># range(10) produces the lis</span>
<span class="c"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">True</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="loops-and-conditional-statements-if-for-while">
<h2>2.5 Loops and Conditional Statements: if, for, while<a class="headerlink" href="#loops-and-conditional-statements-if-for-while" title="Permalink to this headline">¶</a></h2>
<p>So far, we have come across the ideas of variables, data types, and two
ways of grouping objects together (tuples and lists).</p>
<p>Another fundamental aspect of any programming language is conditional
statements. The simplest form of this is an <tt class="docutils literal"><span class="pre">if</span> <span class="pre">...</span> <span class="pre">else</span> <span class="pre">...</span></tt>
statement:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">pockets</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;phone&#39;</span><span class="p">,</span><span class="s">&#39;keys&#39;</span><span class="p">,</span><span class="s">&#39;wallet&#39;</span><span class="p">,</span><span class="s">&#39;frog&#39;</span><span class="p">]</span>

<span class="n">this_item</span> <span class="o">=</span> <span class="s">&#39;nothing&#39;</span>

<span class="c"># test if something is in the list</span>
<span class="k">if</span> <span class="n">this_item</span> <span class="ow">in</span> <span class="n">pockets</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;You do have&quot;</span><span class="p">,</span><span class="n">this_item</span><span class="p">,</span><span class="s">&#39;in your pocket&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;You don&#39;t have&quot;</span><span class="p">,</span><span class="n">this_item</span><span class="p">,</span><span class="s">&#39;in your pocket&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>You don&#39;t have nothing in your pocket
</pre></div>
</div>
<p>Here,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">this_item</span> <span class="ow">in</span> <span class="n">pockets</span>
</pre></div>
</div>
<p>is a membership test as we have seen above (it returns <tt class="docutils literal"><span class="pre">True</span></tt> or
<tt class="docutils literal"><span class="pre">False</span></tt>).</p>
<p>If it&#8217;s <tt class="docutils literal"><span class="pre">True</span></tt>, the code block</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;You do have&quot;</span><span class="p">,</span><span class="n">this_item</span><span class="p">,</span><span class="s">&#39;in your pocket&#39;</span>
</pre></div>
</div>
<p>is executed. If <tt class="docutils literal"><span class="pre">False</span></tt>, then the next condition is checked.</p>
<p>Note the use of indentation here (using <tt class="docutils literal"><span class="pre">tab</span></tt> or spaces) to represent
the structure of the conditional statements.</p>
<p>Note also the use of a colon (<tt class="docutils literal"><span class="pre">:</span></tt>) to mark the end of the conditional
test.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;An if example</span>

<span class="sd">   Threshold the value of x at zero</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c"># threshold at zero</span>
<span class="c"># and print some information about what we did</span>

<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&#39;x less than 0&#39;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&#39;x is zero&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&#39;x is more than zero&#39;</span>

<span class="k">print</span> <span class="s">&#39;thresholded x = &#39;</span><span class="p">,</span><span class="n">x</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>x is more than zero
thresholded x =  3
</pre></div>
</div>
<p>The syntax of this is:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">condition1</span> <span class="ow">is</span> <span class="bp">True</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">elif</span> <span class="n">condition2</span> <span class="ow">is</span> <span class="bp">True</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">else</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">condition1</span></tt> and <tt class="docutils literal"><span class="pre">condition2</span></tt> are logical tests (e.g.
<tt class="docutils literal"><span class="pre">this_item</span> <span class="pre">in</span> <span class="pre">pockets</span></tt>, <tt class="docutils literal"><span class="pre">today</span> <span class="pre">==</span> <span class="pre">&quot;Wednesday&quot;</span></tt>, <tt class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">10</span></tt> etc.) and
the <tt class="docutils literal"><span class="pre">is</span> <span class="pre">True</span></tt> part of the syntax is implicit (i.e. you don&#8217;t need to
type <tt class="docutils literal"><span class="pre">is</span> <span class="pre">True</span></tt>).</p>
<p>The word <tt class="docutils literal"><span class="pre">elif</span></tt> means <tt class="docutils literal"><span class="pre">else</span> <span class="pre">if</span></tt>. The tests are considered in the
order they are givem so that if <tt class="docutils literal"><span class="pre">condition1</span></tt> is <tt class="docutils literal"><span class="pre">not</span> <span class="pre">True</span></tt>, we
examine <tt class="docutils literal"><span class="pre">condition2</span></tt>. If that is <tt class="docutils literal"><span class="pre">not</span> <span class="pre">True</span></tt>, we fall through to the
final <tt class="docutils literal"><span class="pre">else</span></tt> block.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># nested conditional statements: If</span>

<span class="n">what_you_keep</span> <span class="o">=</span> <span class="s">&#39;your head&#39;</span>
<span class="n">when_you_do_it</span> <span class="o">=</span> <span class="s">&#39;all about you are losing theirs&#39;</span>
<span class="n">whom_you_trust_when_all_men_doubt_you</span> <span class="o">=</span> <span class="s">&#39;yourself&#39;</span>

<span class="c"># first tests</span>
<span class="k">if</span> <span class="p">(</span> <span class="n">what_you_keep</span> <span class="o">==</span> <span class="s">&#39;your head&#39;</span> <span class="p">)</span> <span class="ow">and</span> \
    <span class="p">(</span><span class="n">when_you_do_it</span> <span class="o">==</span> <span class="s">&#39;all about you are losing theirs&#39;</span><span class="p">):</span>

    <span class="c"># second level tests</span>
    <span class="k">if</span> <span class="n">whom_you_trust_when_all_men_doubt_you</span> <span class="o">==</span> <span class="s">&#39;yourself&#39;</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&quot;Yours is the Earth and everything that’s in it ...&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&quot;Nearly there ...&quot;</span>

<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Have a look at http://www.poetryfoundation.org/poem/175772&quot;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Yours is the Earth and everything that’s in it ...
</pre></div>
</div>
<div class="section" id="exercise-2-2">
<h3>Exercise 2.2<a class="headerlink" href="#exercise-2-2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="a">
<h4>A.<a class="headerlink" href="#a" title="Permalink to this headline">¶</a></h4>
<p>A small piece of Python code that will set the variable <tt class="docutils literal"><span class="pre">today</span></tt> to be
a string with the day of the week today is:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># This imports a module that we can use to access dates</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c"># set up a list of days of the week, starting Monday</span>
<span class="c"># Note the line continuation here with \</span>
<span class="n">week</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Monday&#39;</span><span class="p">,</span><span class="s">&#39;Tuesday&#39;</span><span class="p">,</span><span class="s">&#39;Wednesday&#39;</span><span class="p">,</span><span class="s">&#39;Thursday&#39;</span><span class="p">,</span>\
        <span class="s">&#39;Friday&#39;</span><span class="p">,</span><span class="s">&#39;Saturday&#39;</span><span class="p">,</span><span class="s">&#39;Sunday&#39;</span><span class="p">]</span>

<span class="c"># This part gives the day of the week</span>
<span class="c"># as an integer, 0 -&gt; Monday, 1 -&gt; Tuesday etc.</span>
<span class="n">day_number</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>

<span class="n">today</span> <span class="o">=</span> <span class="n">week</span><span class="p">[</span><span class="n">day_number</span><span class="p">]</span>

<span class="c"># print item day_number in the list week</span>
<span class="k">print</span> <span class="s">&quot;today is&quot;</span><span class="p">,</span><span class="n">today</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">today</span> <span class="ow">is</span> <span class="n">Tuesday</span>
</pre></div>
</div>
<p>Based on the example below, <strong>set up a diary for youself for the week to
print out what you should be doing today, using the conditional
structure ``if .. elif ... else``.</strong></p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Remember to wake up early to get to the Python class at UCL&quot;</span>
<span class="k">elif</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Remember to wake up early to go to classes at Imperial College&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;get some sleep&quot;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>get some sleep
</pre></div>
</div>
</div>
<div class="section" id="b">
<h4>B.<a class="headerlink" href="#b" title="Permalink to this headline">¶</a></h4>
<p>You could set up the basic calendar for the week in a list, with the
first entry representing Monday, the second Tuesday etc.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">my_diary</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Spend the day practicing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Do some reading in the library at UCL&#39;</span><span class="p">,</span> \
            <span class="s">&#39;Remember to wake up early to get to the Python class at UCL&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Spend the day practicing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Remember to wake up early to go to classes at Imperial College&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Work at Python exercises from home&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Work at Python exercises from home&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Using a list of this sort, <strong>print the diary entry for today *without*
using conditional statements.</strong></p>
<p>Criticise the code you develop and make suggestions for improvement.</p>
</div>
<div class="section" id="for">
<h4>for<a class="headerlink" href="#for" title="Permalink to this headline">¶</a></h4>
<p>Very commonly, we need to iterate or &#8216;loop&#8217; over some set of items.</p>
<p>The basic stucture for doing this (in Python, and many other languages)
is <tt class="docutils literal"><span class="pre">for</span> <span class="pre">...</span> <span class="pre">in</span> <span class="pre">...</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">count_list</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="c"># for loop</span>
<span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">count_list</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;print counter in loop&#39;&#39;&#39;</span>
    <span class="k">print</span> <span class="n">count</span>

<span class="k">print</span> <span class="s">&#39;blast off&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>1
2
3
blast off
</pre></div>
</div>
<p>which has the syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>where the variable <tt class="docutils literal"><span class="pre">var</span></tt> is set to each of the items in <tt class="docutils literal"><span class="pre">list</span></tt>, in
the order in which they appear in <tt class="docutils literal"><span class="pre">list</span></tt>.</p>
</div>
<div class="section" id="xrange">
<h4>xrange<a class="headerlink" href="#xrange" title="Permalink to this headline">¶</a></h4>
<p>When we have a loop, there nust be something that defines what it is we
loop over. In the example above, this was a list, <tt class="docutils literal"><span class="pre">count_list</span></tt>, which
here is <tt class="docutils literal"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></tt>.</p>
<p>In Python, we can use either use some explicit list, tuple etc. to
define what we loop over, or, we can use a <a class="reference external" href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#generator-expressions-1">generator
expression</a>,
which is something that returns one of its members at a time.</p>
<p>Normally then, instead or using <tt class="docutils literal"><span class="pre">range</span></tt> above, which involves an
<em>explicit</em> calculation and storage of all elements of the list, we use a
generator function,
<tt class="docutils literal"><span class="pre">`xrange</span></tt> &lt;<a class="reference external" href="http://docs.python.org/2/library/functions.html#xrange">http://docs.python.org/2/library/functions.html#xrange</a>&gt;`__,
which, in essence, returns the elements &#8216;on demand&#8217; as needed in the
loop (and so uses less memory, though there is little real difference
except for very large loops).</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># for loop</span>
<span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;print counter in loop&#39;&#39;&#39;</span>
    <span class="k">print</span> <span class="n">count</span>

<span class="k">print</span> <span class="s">&#39;blast off&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>1
2
3
blast off
</pre></div>
</div>
<p>If you need to force an
<tt class="docutils literal"><span class="pre">`iterable</span></tt> &lt;<a class="reference external" href="http://docs.python.org/2/glossary.html#term-iterable">http://docs.python.org/2/glossary.html#term-iterable</a>&gt;`__
to e.g. return a list, you can convert the data type to <tt class="docutils literal"><span class="pre">list</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="nb">list</span><span class="p">(</span><span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="enumerate">
<h4>enumerate<a class="headerlink" href="#enumerate" title="Permalink to this headline">¶</a></h4>
<p>Commonly, when iterating over a set of items, we also need access to a
counter, telling us which item in the list we are currently on.</p>
<p>This is done using the function
<tt class="docutils literal"><span class="pre">`enumerate()</span></tt> &lt;<a class="reference external" href="http://docs.python.org/2/library/functions.html#enumerate">http://docs.python.org/2/library/functions.html#enumerate</a>&gt;`__.
This returns the <tt class="docutils literal"><span class="pre">tuple</span></tt> <tt class="docutils literal"><span class="pre">(count,item)</span></tt> where <tt class="docutils literal"><span class="pre">count</span></tt> is the index
of <tt class="docutils literal"><span class="pre">item</span></tt> in <tt class="docutils literal"><span class="pre">list</span></tt>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">word_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Call&#39;</span><span class="p">,</span> <span class="s">&#39;me&#39;</span><span class="p">,</span> <span class="s">&#39;Ishmael&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">w</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">word_list</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;The&#39;</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="s">&#39;th&#39;</span><span class="p">,</span><span class="s">&#39;word is&#39;</span><span class="p">,</span><span class="n">w</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>The 0 th word is Call
The 1 th word is me
The 2 th word is Ishmael
</pre></div>
</div>
<p>Here the syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">count</span><span class="p">,</span><span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="strings-and-things">
<h2>2.6 Strings and things<a class="headerlink" href="#strings-and-things" title="Permalink to this headline">¶</a></h2>
<p>We have seen the data type <tt class="docutils literal"><span class="pre">str</span></tt> above and noted some of the
operations we can use of strings.</p>
<p>You can look over some more <a class="reference external" href="http://docs.python.org/2/library/string.html_">detailed
notes</a> on strings at
some point, but here we will now go through some other typical
operations you will use in scientific computing:</p>
<div class="section" id="some-basic-string-operations">
<h3>2.6.1 Some basic string operations<a class="headerlink" href="#some-basic-string-operations" title="Permalink to this headline">¶</a></h3>
<p>As a recap, with some slightly more complicated examples:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">word</span> <span class="o">=</span> <span class="s">&#39;hello world&#39;</span>

<span class="k">print</span> <span class="s">&quot;word </span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="n">word</span><span class="p">,</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>

<span class="k">print</span> <span class="s">&quot;list(word) </span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="nb">list</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

<span class="c"># slice</span>
<span class="k">print</span> <span class="s">&quot;word[::-1] </span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="n">word</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="c"># len</span>
<span class="k">print</span> <span class="s">&quot;len(word) </span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="c"># min (similarly max)</span>
<span class="k">print</span> <span class="s">&quot;min(word) </span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="nb">min</span><span class="p">(</span><span class="n">word</span><span class="p">),</span><span class="s">&#39;</span><span class="se">\n\t</span><span class="s">... what was printed there?&#39;</span>
<span class="c"># in (membership)</span>
<span class="k">print</span> <span class="s">&quot;&#39;n&#39; in word </span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="s">&#39;n&#39;</span> <span class="ow">in</span> <span class="n">word</span>
<span class="c"># count</span>
<span class="k">print</span> <span class="s">&quot;word.count(&#39;p&#39;)</span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="n">word</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;p&#39;</span><span class="p">)</span>
<span class="c"># + (concatenation)</span>
<span class="k">print</span> <span class="s">&quot;&#39;hey!&#39; + word[len(&#39;hello&#39;)::2]</span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="s">&#39;hey!&#39;</span> <span class="o">+</span> <span class="n">word</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">)::</span><span class="mi">2</span><span class="p">]</span>
<span class="c"># * (repetition)</span>
<span class="k">print</span> <span class="s">&quot;word[:6]* 3</span><span class="se">\n\t</span><span class="s">=&quot;</span><span class="p">,</span><span class="n">word</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>word
    = hello world

list(word)
    = [&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;]
word[::-1]
    = dlrow olleh
len(word)
    = 11
min(word)
    =
    ... what was printed there?
&#39;n&#39; in word
    = False
word.count(&#39;p&#39;)
    = 0
&#39;hey!&#39; + word[len(&#39;hello&#39;)::2]
    = hey! ol
word[:6]* 3
    = hello hello hello
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># look what happens if we call index</span>
<span class="c"># for something that doesn&#39;t exist in the string</span>
<span class="k">print</span> <span class="s">&quot;word.index(&#39;x&#39;)=</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">word</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)

&lt;ipython-input-55-515f07310ca9&gt; in &lt;module&gt;()
      1 # look what happens if we call index
      2 # for something that doesn&#39;t exist in the string
----&gt; 3 print &quot;word.index(&#39;x&#39;)=\t&quot;,word.index(&#39;x&#39;)


ValueError: substring not found
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>word.index(&#39;x&#39;)=
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># Sometimes, we might wish to use</span>
<span class="c"># the string operator find instead</span>
<span class="k">print</span> <span class="s">&quot;word.find(&#39;x&#39;)=</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">word</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">word</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span><span class="o">=</span>     <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="split">
<h3>2.6.2 split<a class="headerlink" href="#split" title="Permalink to this headline">¶</a></h3>
<p>Suppose we have some data that are presented to us as a string with
white space separating each data element, e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;1964 1220 1974 2470 1984 2706 1994 4812 2004 2707&quot;</span>
</pre></div>
</div>
<p>These data are total fossil fuel emissions for Zimbabwe (thousand metric
tons of C) for selected years (dataset <a class="reference external" href="ftp://cdiac.ornl.gov/pub/trends/emissions/zim.dat">doi
10.3334/CDIAC/00001_V2011</a>).</p>
<p>The even elements are the year (<tt class="docutils literal"><span class="pre">1964</span></tt>, <tt class="docutils literal"><span class="pre">1974</span></tt> etc.) and the odd
elements (<tt class="docutils literal"><span class="pre">1220</span></tt>, <tt class="docutils literal"><span class="pre">2470</span></tt>) the data for that year.</p>
<p>We can use the string operator <tt class="docutils literal"><span class="pre">split()</span></tt> to separate this into a list
of strings:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;1964 1220 1974 2470 1984 2706 1994 4812 2004 2707&quot;</span>
<span class="n">sdata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="k">print</span> <span class="n">sdata</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;1964&#39;</span><span class="p">,</span> <span class="s">&#39;1220&#39;</span><span class="p">,</span> <span class="s">&#39;1974&#39;</span><span class="p">,</span> <span class="s">&#39;2470&#39;</span><span class="p">,</span> <span class="s">&#39;1984&#39;</span><span class="p">,</span> <span class="s">&#39;2706&#39;</span><span class="p">,</span> <span class="s">&#39;1994&#39;</span><span class="p">,</span> <span class="s">&#39;4812&#39;</span><span class="p">,</span> <span class="s">&#39;2004&#39;</span><span class="p">,</span> <span class="s">&#39;2707&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>We could the convert these to integer:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;1964 1220 1974 2470 1984 2706 1994 4812 2004 2707&quot;</span>
<span class="n">sdata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="c"># how many items are there?</span>
<span class="c"># use len(), and divide by 2 in this case</span>
<span class="n">n_items</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sdata</span><span class="p">)</span>

<span class="c"># create an empty list: years</span>
<span class="n">years</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c"># create an empty list: emissions</span>
<span class="n">emissions</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c"># loop over sdata in steps of 2</span>
<span class="c"># and append years and emissions</span>
<span class="c"># data as int</span>

<span class="c"># xrange(0,n_items,2) because</span>
<span class="c"># we want to step every 2 in this case</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">n_items</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
    <span class="n">years</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sdata</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
    <span class="n">emissions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sdata</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]))</span>
<span class="k">print</span> <span class="n">years</span>
<span class="k">print</span> <span class="n">emissions</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">1964</span><span class="p">,</span> <span class="mi">1974</span><span class="p">,</span> <span class="mi">1984</span><span class="p">,</span> <span class="mi">1994</span><span class="p">,</span> <span class="mi">2004</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1220</span><span class="p">,</span> <span class="mi">2470</span><span class="p">,</span> <span class="mi">2706</span><span class="p">,</span> <span class="mi">4812</span><span class="p">,</span> <span class="mi">2707</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="join">
<h3>2.6.3 join<a class="headerlink" href="#join" title="Permalink to this headline">¶</a></h3>
<p>The &#8216;opposite&#8217; of <tt class="docutils literal"><span class="pre">split</span></tt> is <tt class="docutils literal"><span class="pre">join</span></tt>.</p>
<p>This returns an iterable of the form <tt class="docutils literal"><span class="pre">S.join(list)</span></tt>, where <tt class="docutils literal"><span class="pre">S</span></tt> is
the separator and <tt class="docutils literal"><span class="pre">list</span></tt> is a <strong>list of strings</strong> e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">str1</span> <span class="o">=</span> <span class="s">&#39;hello&#39;</span>
<span class="n">str2</span> <span class="o">=</span> <span class="s">&#39;world&#39;</span>

<span class="c"># joint with space</span>
<span class="k">print</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">str1</span><span class="p">,</span><span class="n">str2</span><span class="p">])</span>
<span class="c"># joint with no space</span>
<span class="k">print</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">str1</span><span class="p">,</span><span class="n">str2</span><span class="p">])</span>
<span class="c"># join with tab</span>
<span class="k">print</span> <span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">str1</span><span class="p">,</span><span class="n">str1</span><span class="p">,</span><span class="n">str2</span><span class="p">])</span>
<span class="c"># join with colon :</span>
<span class="c"># note what happens we pass a</span>
<span class="c"># string, rather than a list</span>
<span class="k">print</span> <span class="s">&#39;:&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">str1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>hello world
helloworld
hello       hello   world
h:e:l:l:o
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># remember that it has to be a list</span>
<span class="c"># of strings: years here is a list</span>
<span class="c"># of integers</span>
<span class="k">print</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">years</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

&lt;ipython-input-61-795783cbd46a&gt; in &lt;module&gt;()
      2 # of strings: years here is a list
      3 # of integers
----&gt; 4 print &#39; &#39;.join(years)


TypeError: sequence item 0: expected string, int found
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;1964 1220 1974 2470 1984 2706 1994 4812 2004 2707&quot;</span>
<span class="n">sdata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">sdata</span><span class="p">),</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sdata</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>1964 1220
1974 2470
1984 2706
1994 4812
2004 2707
</pre></div>
</div>
</div>
<div class="section" id="listcomp">
<h3>2.6.4 listcomp<a class="headerlink" href="#listcomp" title="Permalink to this headline">¶</a></h3>
<p>That is a perfectly fine way to pull these data out of a string, but
it&#8217;s not very
<a class="reference external" href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html">&#8216;Pythonic&#8217;</a>
(it does&#8217;nt make best use of some of the elegant features of this
language).</p>
<p>Better in this sense is what are known as
<a class="reference external" href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#list-comprehensions">listcomps</a>
(list comprehensions).</p>
<p>With a listcomp, you define a list (enclosed in <tt class="docutils literal"><span class="pre">[</span></tt>, <tt class="docutils literal"><span class="pre">]</span></tt>), with two
or three terms. The first term is some function <tt class="docutils literal"><span class="pre">fn(item)</span></tt>. The second
is a for statement. The third, if present, is a conditional (<tt class="docutils literal"><span class="pre">if</span></tt>)
statement.</p>
<p>For example:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fdata</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>

<span class="k">print</span> <span class="n">fdata</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">1964</span><span class="p">,</span> <span class="mi">1220</span><span class="p">,</span> <span class="mi">1974</span><span class="p">,</span> <span class="mi">2470</span><span class="p">,</span> <span class="mi">1984</span><span class="p">,</span> <span class="mi">2706</span><span class="p">,</span> <span class="mi">1994</span><span class="p">,</span> <span class="mi">4812</span><span class="p">,</span> <span class="mi">2004</span><span class="p">,</span> <span class="mi">2707</span><span class="p">]</span>
</pre></div>
</div>
<p>This generates a list. Within this list, we iterate over the loop
<tt class="docutils literal"><span class="pre">for</span> <span class="pre">s</span> <span class="pre">in</span> <span class="pre">data.split()</span></tt>, and enter the result of the function
<tt class="docutils literal"><span class="pre">int(s)</span></tt>.</p>
<p>So this example is directly equivalent to:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;1964 1220 1974 2470 1984 2706 1994 4812 2004 2707&quot;</span>

<span class="n">fdata</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="n">fdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>

<span class="k">print</span> <span class="n">fdata</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">1964</span><span class="p">,</span> <span class="mi">1220</span><span class="p">,</span> <span class="mi">1974</span><span class="p">,</span> <span class="mi">2470</span><span class="p">,</span> <span class="mi">1984</span><span class="p">,</span> <span class="mi">2706</span><span class="p">,</span> <span class="mi">1994</span><span class="p">,</span> <span class="mi">4812</span><span class="p">,</span> <span class="mi">2004</span><span class="p">,</span> <span class="mi">2707</span><span class="p">]</span>
</pre></div>
</div>
<p>You will very commonly use listcomps of this nature when performing some
function over elements in a list where you have to perform the function
on each element at a time.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;1964 1220 1974 2470 1984 2706 1994 4812 2004 2707&quot;</span>
<span class="n">fdata</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>

<span class="c"># use slicing to separate the odd</span>
<span class="c"># and even data</span>
<span class="n">years</span>     <span class="o">=</span> <span class="n">fdata</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>
<span class="n">emissions</span> <span class="o">=</span> <span class="n">fdata</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>

<span class="k">print</span> <span class="n">years</span>
<span class="k">print</span> <span class="n">emissions</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">1964</span><span class="p">,</span> <span class="mi">1974</span><span class="p">,</span> <span class="mi">1984</span><span class="p">,</span> <span class="mi">1994</span><span class="p">,</span> <span class="mi">2004</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1220</span><span class="p">,</span> <span class="mi">2470</span><span class="p">,</span> <span class="mi">2706</span><span class="p">,</span> <span class="mi">4812</span><span class="p">,</span> <span class="mi">2707</span><span class="p">]</span>
</pre></div>
</div>
<p>Listcomps can be very convenient, as they are a compact way of
specifying a loop (with a conditonal statement oif required).</p>
<p>Don&#8217;t use listcomps if they obscure the meaning of what you are doing
though.</p>
</div>
<div class="section" id="generator-expressions">
<h3>2.6.5 generator expressions<a class="headerlink" href="#generator-expressions" title="Permalink to this headline">¶</a></h3>
<p>A listcomp generates everything in the list, then returns the list.</p>
<p>Sometimes, you only need one element at a time (e.g. within a loop). In
such cases, it is better to use generator expressions.</p>
<p>These look much like listcomps but use <tt class="docutils literal"><span class="pre">()</span></tt> rather than <tt class="docutils literal"><span class="pre">[]</span></tt></p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fdata</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="k">print</span> <span class="n">fdata</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fdata</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">i</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;generator object &lt;genexpr&gt; at 0x106102e10&gt;
1964
1220
1974
2470
1984
2706
1994
4812
2004
2707
</pre></div>
</div>
<p>but only return one item at a time, on demand in the loop.</p>
</div>
<div class="section" id="replace">
<h3>2.6.6 replace<a class="headerlink" href="#replace" title="Permalink to this headline">¶</a></h3>
<p>Another useful string operator is <tt class="docutils literal"><span class="pre">replace</span></tt>, e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># change white space separation to comma separation</span>
<span class="n">data</span> <span class="o">=</span> <span class="s">&quot;1964 1220 1974 2470 1984 2706 1994 4812 2004 2707&quot;</span>
<span class="k">print</span> <span class="n">data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mi">1964</span><span class="p">,</span><span class="mi">1220</span><span class="p">,</span><span class="mi">1974</span><span class="p">,</span><span class="mi">2470</span><span class="p">,</span><span class="mi">1984</span><span class="p">,</span><span class="mi">2706</span><span class="p">,</span><span class="mi">1994</span><span class="p">,</span><span class="mi">4812</span><span class="p">,</span><span class="mi">2004</span><span class="p">,</span><span class="mi">2707</span>
</pre></div>
</div>
</div>
<div class="section" id="format">
<h3>2.6.7 format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h3>
<p>The most common way you are likely to be formatting strings is using
expressions such as:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">how_many</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">how_much</span> <span class="o">=</span> <span class="s">&quot;hours&quot;</span>

<span class="k">print</span> <span class="s">&quot;There are only </span><span class="si">%d</span><span class="s"> things to learn.</span><span class="se">\</span>
<span class="s">        </span><span class="se">\n</span><span class="s">But</span><span class="se">\t</span><span class="s">it will take you </span><span class="si">%s</span><span class="s"> to do so.&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">how_many</span><span class="p">,</span><span class="n">how_much</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>There are only 10 things to learn.
But it will take you hours to do so.
</pre></div>
</div>
<p>Using this style of string formatting, you put control characters into
the string, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;</span><span class="si">%d</span><span class="s">: hello </span><span class="si">%s</span><span class="s">&quot;</span>
</pre></div>
</div>
<p>and put a tuple of variables after the string, separated by <tt class="docutils literal"><span class="pre">%</span></tt> which
are inserted into the string in the order in which they appear:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;</span><span class="si">%d</span><span class="s">: hello </span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s">&#39;ten&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that you must get the data types correct, or you will generate an
error.</p>
<p>The most common formatting codes are:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">%d</span></tt> represents an integer</li>
<li><tt class="docutils literal"><span class="pre">%s</span></tt> represents a string</li>
<li><tt class="docutils literal"><span class="pre">%f</span></tt> represents a float</li>
<li><tt class="docutils literal"><span class="pre">%e</span></tt> represents a float in exponential form</li>
</ul>
<p>e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;</span><span class="se">\</span>
<span class="s">        integer     </span><span class="si">%d</span><span class="se">\n\</span>
<span class="s">        float       </span><span class="si">%f</span><span class="se">\n\</span>
<span class="s">        string      </span><span class="si">%s</span><span class="se">\n\</span>
<span class="s">        exponential </span><span class="si">%e</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mf">3.1415926536</span><span class="p">,</span><span class="s">&quot;pies are squared&quot;</span><span class="p">,</span><span class="mf">3.1415926536</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>integer     3
float       3.141593
string      pies are squared
exponential 3.141593e+00
</pre></div>
</div>
</div>
<div class="section" id="strip">
<h3>2.6.8 strip<a class="headerlink" href="#strip" title="Permalink to this headline">¶</a></h3>
<p>A useful method is <tt class="docutils literal"><span class="pre">strip()</span></tt> that strips off any unnecessary white
space and newlines e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">string</span> <span class="o">=</span> <span class="s">&#39;   hello world      </span><span class="se">\t</span><span class="s">&#39;</span>
<span class="k">print</span> <span class="s">&#39;|</span><span class="si">%s</span><span class="s">|&#39;</span><span class="o">%</span><span class="n">string</span>
<span class="k">print</span> <span class="s">&#39;|</span><span class="si">%s</span><span class="s">|&#39;</span><span class="o">%</span><span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>|   hello world             |
|hello world|
</pre></div>
</div>
</div>
<div class="section" id="getting-and-splitting-filenames">
<h3>2.6.9 Getting and splitting filenames<a class="headerlink" href="#getting-and-splitting-filenames" title="Permalink to this headline">¶</a></h3>
<div class="section" id="glob">
<h4>glob<a class="headerlink" href="#glob" title="Permalink to this headline">¶</a></h4>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># example, with directory names</span>

<span class="c"># glob unix style pattern matching for files and directories</span>
<span class="kn">import</span> <span class="nn">glob</span>

<span class="c"># returns a list (or [] if empty)</span>
<span class="c"># to match the pattern given</span>
<span class="n">file_list</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;files/data/*.txt&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;file_list:</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">file_list</span>

<span class="c"># e.g. the first string in the list</span>
<span class="n">this_file</span> <span class="o">=</span> <span class="n">file_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>file_list:
    [&#39;files/data/HadSEEP_monthly_qc.txt&#39;, &#39;files/data/heathrowdata.txt&#39;, &#39;files/data/modis_files.txt&#39;, &#39;files/data/modis_files2a.txt&#39;, &#39;files/data/modis_files2b.txt&#39;, &#39;files/data/some_modis_files.txt&#39;]
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">this_file</span> <span class="o">=</span> <span class="s">&#39;files/data/HadSEEP_monthly_qc.txt&#39;</span>

<span class="c"># split the filename on the field &#39;/&#39;</span>
<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">this_file.split(&#39;/&#39;):</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>

<span class="c"># so the filename is just the last element in this list</span>
<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">this_file.split(&#39;/&#39;)[-1]:</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>this_file.split(&#39;/&#39;):
    [&#39;files&#39;, &#39;data&#39;, &#39;HadSEEP_monthly_qc.txt&#39;]

this_file.split(&#39;/&#39;)[-1]:
    HadSEEP_monthly_qc.txt
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># another example, with directory names</span>

<span class="c"># glob unix style pattern matching for files and directories</span>
<span class="kn">import</span> <span class="nn">glob</span>

<span class="c"># returns a list</span>
<span class="n">file_list</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;files/data/*.txt&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;file_list:</span><span class="se">\n\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">file_list</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">file names:&quot;</span>
<span class="c"># loop over the list of file namnes</span>
<span class="k">for</span> <span class="n">this_file</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
    <span class="c"># for each of these</span>
    <span class="c"># split the filename on the field &#39;/&#39;</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>file_list:
    [&#39;files/data/HadSEEP_monthly_qc.txt&#39;, &#39;files/data/heathrowdata.txt&#39;, &#39;files/data/modis_files.txt&#39;, &#39;files/data/modis_files2a.txt&#39;, &#39;files/data/modis_files2b.txt&#39;, &#39;files/data/some_modis_files.txt&#39;]

file names:
    HadSEEP_monthly_qc.txt
    heathrowdata.txt
    modis_files.txt
    modis_files2a.txt
    modis_files2b.txt
    some_modis_files.txt
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-2-3">
<h2>Exercise 2.3<a class="headerlink" href="#exercise-2-3" title="Permalink to this headline">¶</a></h2>
<p>The data below are fields of:</p>
<div class="line-block">
<div class="line">0 year</div>
<div class="line">1 month</div>
<div class="line">2 tmax (degC)</div>
<div class="line">3 tmin (degC)</div>
<div class="line">4 air frost (days)</div>
<div class="line">5 rain (mm)</div>
<div class="line">6 sun (hours)</div>
</div>
<p>for Lowestoft in the UK for the year 2012, taken from <a class="reference external" href="http://www.metoffice.gov.uk/climate/uk/stationdata/lowestoftdata.txt">Met Office
data</a>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;   2012   1    8.7    3.1      5   33.1   53.9</span>
<span class="s">   2012   2    7.1    1.6     13   13.8   86.6</span>
<span class="s">   2012   3   11.3    3.7      2   64.2  141.3</span>
<span class="s">   2012   4   10.9    4.3      3  108.9  151.1</span>
<span class="s">   2012   5   15.1    8.6      0   46.6  171.3</span>
<span class="s">   2012   6   17.9   10.9      0   74.4  189.0</span>
<span class="s">   2012   7   20.3   12.8      0   93.6  206.9</span>
<span class="s">   2012   8   22.0   14.0      0   59.6  217.3</span>
<span class="s">   2012   9   18.9    9.5      0   38.8  200.8</span>
<span class="s">   2012  10   13.6    7.9      0   92.7   94.7</span>
<span class="s">   2012  11   10.5    4.4      2   62.1   79.6</span>
<span class="s">   2012  12    7.9    2.4      8   95.6   41.9  &quot;&quot;&quot;</span>

<span class="k">print</span> <span class="n">data</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>2012   1    8.7    3.1      5   33.1   53.9
2012   2    7.1    1.6     13   13.8   86.6
2012   3   11.3    3.7      2   64.2  141.3
2012   4   10.9    4.3      3  108.9  151.1
2012   5   15.1    8.6      0   46.6  171.3
2012   6   17.9   10.9      0   74.4  189.0
2012   7   20.3   12.8      0   93.6  206.9
2012   8   22.0   14.0      0   59.6  217.3
2012   9   18.9    9.5      0   38.8  200.8
2012  10   13.6    7.9      0   92.7   94.7
2012  11   10.5    4.4      2   62.1   79.6
2012  12    7.9    2.4      8   95.6   41.9
</pre></div>
</div>
<p>You can use the Python package <tt class="docutils literal"><span class="pre">pylab</span></tt> to simply plot data on a graph:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># import the pylab module</span>
<span class="kn">import</span> <span class="nn">pylab</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="c"># some e.g. x and y data</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">**</span><span class="mf">0.5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Plot of sqrt(x)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;matplotlib.text.Text at 0x1061717d0&gt;
</pre></div>
</div>
<img alt="../_images/python101_185_1.png" src="../_images/python101_185_1.png" />
<p><strong>Produce a plot of the number of sunshine hours for Lowestoft for the
year 2012</strong> using the data given above.</p>
<p>Hint: the data have newline chcracters <tt class="docutils literal"><span class="pre">\n</span></tt> at the end of each line of
data, and are separated by white space within each line.</p>
</div>
<div class="section" id="files">
<h2>2.7 Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>To open a file that already exists for <em>reading</em>, we use:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">filename</span></tt> here is the name of a file and the <tt class="docutils literal"><span class="pre">'r'</span></tt> argument
tells us that we want to open in &#8216;read&#8217; mode.</p>
<p>This returns a file object, <tt class="docutils literal"><span class="pre">fp</span></tt> here that we can use to read data
from the file etc.</p>
<p>When we have finished doing what we want to do, we should close the
file:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>To read ASCII data from a file as a list of strings for each line, use:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</pre></div>
</div>
<p>To write ASCII text to the file, use:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;some text&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or to write a list of strings all at once:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fp</span><span class="o">.</span><span class="n">writelines</span><span class="p">([</span><span class="s">&quot;some text</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="s">&quot;some more</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>As a first example, let&#8217;s open a file for <em>reading</em> from a file
<tt class="docutils literal"><span class="pre">`files/data/elevation.dat</span></tt> &lt;files/data/elevation.dat&gt;`__ that
contains a list of dates, times and solar elevation angles (degrees).</p>
<div class="code python highlight-python"><div class="highlight"><pre>!head -10 &lt; files/data/elevation.dat
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>2013/10/8 00:00:00 -44.2719952943
2013/10/8 00:30:00 -43.5276412785
2013/10/8 00:59:59 -41.9842746582
2013/10/8 01:30:00 -39.7226999863
2013/10/8 02:00:00 -36.8452198361
2013/10/8 02:30:00 -33.459799008
2013/10/8 03:00:00 -29.6691191507
2013/10/8 03:30:00 -25.5652187709
2013/10/8 03:59:59 -21.2281801291
2013/10/8 04:30:00 -16.7272357302
</pre></div>
</div>
<p>What we are going to want to do is to create a new file which has the
time, specified in decimal hours, and the solar zenith angle (i.e. 90
degrees minus the elevation) into a new file <tt class="docutils literal"><span class="pre">files/data/zenith.dat</span></tt>,
but only when the Sun is above the horizon.</p>
<p>Let&#8217;s first concentrate on reading the data in:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;files/data/elevation.dat&#39;</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we will use <tt class="docutils literal"><span class="pre">readlines</span></tt> to return a list of strings:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">sdata</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="k">print</span> <span class="n">sdata</span>
</pre></div>
</div>
<pre class="literal-block">
['2013/10/8 00:00:00 -44.2719952943n', '2013/10/8 00:30:00 -43.5276412785n', '2013/10/8 00:59:59 -41.9842746582n', '2013/10/8 01:30:00 -39.7226999863n', '2013/10/8 02:00:00 -36.8452198361n', '2013/10/8 02:30:00 -33.459799008n', '2013/10/8 03:00:00 -29.6691191507n', '2013/10/8 03:30:00 -25.5652187709n', '2013/10/8 03:59:59 -21.2281801291n', '2013/10/8 04:30:00 -16.7272357302n', '2013/10/8 05:00:00 -12.1229087343n', '2013/10/8 05:30:00 -7.44278286026n', '2013/10/8 06:00:00 -1.67990284889n', '2013/10/8 06:30:00 2.07557325291n', '2013/10/8 06:59:59 6.41682356012n', '2013/10/8 07:30:00 10.718795157n', '2013/10/8 08:00:00 14.8409321418n', '2013/10/8 08:30:00 18.7041059194n', '2013/10/8 09:00:00 22.2360923619n', '2013/10/8 09:30:00 25.3625807186n', '2013/10/8 09:59:59 28.0062976444n', '2013/10/8 10:30:00 30.0911497093n', '2013/10/8 11:00:00 31.54841838n', '2013/10/8 11:30:00 32.3246113226n', '2013/10/8 12:00:00 32.389146365n', '2013/10/8 12:30:00 31.7393119221n', '2013/10/8 12:59:59 30.4007451089n', '2013/10/8 13:30:00 28.4231526272n', '2013/10/8 14:00:00 25.8729768496n', '2013/10/8 14:30:00 22.8253857155n', '2013/10/8 15:00:00 19.3576781834n', '2013/10/8 15:30:00 15.5452510038n', '2013/10/8 15:59:59 11.4587795592n', '2013/10/8 16:30:00 7.17635425621n', '2013/10/8 17:00:00 2.81567654312n', '2013/10/8 17:30:00 -1.12901415483n', '2013/10/8 18:00:00 -6.60204292249n', '2013/10/8 18:30:00 -11.3521065185n', '2013/10/8 18:59:59 -15.9844936391n', '2013/10/8 19:30:00 -20.5264294183n', '2013/10/8 20:00:00 -24.9191119037n', '2013/10/8 20:30:00 -29.0954447321n', '2013/10/8 21:00:00 -32.9777242563n', '2013/10/8 21:30:00 -36.4761369039n', '2013/10/8 21:59:59 -39.4893158374n', '2013/10/8 22:30:00 -41.9086473886n', '2013/10/8 23:00:00 -43.6280450593n', '2013/10/8 23:30:00 -44.5592559753n']
</pre>
<p>We can see that each line of the file contains three fields e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">sdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>2013/10/8 00:00:00 -44.2719952943
</pre></div>
</div>
<p>The first field is the date (year, day, month), the second is the time
(hour, minute, second), and the third is the solar elevation at UCL at
that time/date.</p>
<p>To decode each line then we can use <tt class="docutils literal"><span class="pre">split()</span></tt> e.g.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">sdata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;2013/10/8&#39;</span><span class="p">,</span> <span class="s">&#39;00:00:00&#39;</span><span class="p">,</span> <span class="s">&#39;-44.2719952943&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>what we want is the time and elevation fields, so we will make a loop to
get this, but <tt class="docutils literal"><span class="pre">break</span></tt> from the loop after the first entry at the
moment:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;files/data/elevation.dat&#39;</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">elevation</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">print</span> <span class="n">time</span><span class="p">,</span><span class="n">elevation</span>
    <span class="k">break</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>00:00:00 -44.2719952943
</pre></div>
</div>
<p>We need to convert the time field to minutes. We can start this by
splitting the string on <tt class="docutils literal"><span class="pre">:</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">time</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">time</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;00&#39;</span><span class="p">,</span> <span class="s">&#39;00&#39;</span><span class="p">,</span> <span class="s">&#39;00&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>then convert these to <tt class="docutils literal"><span class="pre">float</span></tt> and add up the minutes:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)]</span>
<span class="n">hours</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">time</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mf">60.</span> <span class="o">+</span> <span class="n">time</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">60.</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
<span class="k">print</span> <span class="n">hours</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">0.0</span>
</pre></div>
</div>
<p>we can easily convert elevation to zenith angle.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">zenith</span> <span class="o">=</span> <span class="mf">90.</span> <span class="o">-</span> <span class="n">elevation</span>
<span class="k">print</span> <span class="n">zenith</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">134.271995294</span>
</pre></div>
</div>
<p>Putting this together, only printing when the zenith is less than or
equal to 90.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;files/data/elevation.dat&#39;</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)]</span>
    <span class="n">hours</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">time</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mf">60.</span> <span class="o">+</span> <span class="n">time</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">60.</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">zenith</span> <span class="o">=</span> <span class="mf">90.</span> <span class="o">-</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">zenith</span> <span class="o">&lt;=</span> <span class="mf">90.</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">hours</span><span class="p">,</span><span class="n">zenith</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>6.5 87.9244267471
6.99972222222 83.5831764399
7.5 79.281204843
8.0 75.1590678582
8.5 71.2958940806
9.0 67.7639076381
9.5 64.6374192814
9.99972222222 61.9937023556
10.5 59.9088502907
11.0 58.45158162
11.5 57.6753886774
12.0 57.610853635
12.5 58.2606880779
12.9997222222 59.5992548911
13.5 61.5768473728
14.0 64.1270231504
14.5 67.1746142845
15.0 70.6423218166
15.5 74.4547489962
15.9997222222 78.5412204408
16.5 82.8236457438
17.0 87.1843234569
</pre></div>
</div>
<p>Now, writing to an output file <tt class="docutils literal"><span class="pre">files/data/zenith.dat</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">ifilename</span> <span class="o">=</span> <span class="s">&#39;files/data/elevation.dat&#39;</span>
<span class="n">ofilename</span> <span class="o">=</span> <span class="s">&#39;files/data/zenith.dat&#39;</span>

<span class="n">ifp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ifilename</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)</span>
<span class="n">ofp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ofilename</span><span class="p">,</span><span class="s">&quot;w&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ifp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)]</span>
    <span class="n">hours</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">time</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mf">60.</span> <span class="o">+</span> <span class="n">time</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">60.</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">zenith</span> <span class="o">=</span> <span class="mf">90.</span> <span class="o">-</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">zenith</span> <span class="o">&lt;=</span> <span class="mf">90.</span><span class="p">:</span>
        <span class="n">ofp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%.1f</span><span class="s"> </span><span class="si">%.3f</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">hours</span><span class="p">,</span><span class="n">zenith</span><span class="p">))</span>
<span class="n">ifp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">ofp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>We could check the output file from unix:</p>
<div class="code python highlight-python"><div class="highlight"><pre>!head -10 &lt; files/data/zenith.dat
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>6.5 87.924
7.0 83.583
7.5 79.281
8.0 75.159
8.5 71.296
9.0 67.764
9.5 64.637
10.0 61.994
10.5 59.909
11.0 58.452
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre>!ls -l files/data/zenith.dat
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>-rw-r--r--  1 plewis  staff  257  8 Oct 22:23 files/data/zenith.dat
</pre></div>
</div>
</div>
<div class="section" id="exercise-2-4">
<h2>Exercise 2.4<a class="headerlink" href="#exercise-2-4" title="Permalink to this headline">¶</a></h2>
<p>The text file
<a class="reference external" href="files/data/modis_files.txt">files/data/modis_files.txt</a> contains a
listing of hdf format files that are in the directory
<tt class="docutils literal"><span class="pre">/data/geospatial_19/ucfajlg/fire/Angola/MOD09</span></tt> on the UCL Geography
system. The contents of the file looks like (first 10 lines):</p>
<div class="code python highlight-python"><div class="highlight"><pre>!head -10 &lt; files/data/modis_files.txt
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004001.h19v10.005.2008109063923.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004002.h19v10.005.2008108084250.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004003.h19v10.005.2008108054126.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004004.h19v10.005.2008108112322.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004005.h19v10.005.2008108173219.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004006.h19v10.005.2008108214033.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004007.h19v10.005.2008109081257.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004008.h19v10.005.2008109111447.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004009.h19v10.005.2008109211421.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004010.h19v10.005.2008110031925.hdf
</pre></div>
</div>
<p>Your task is to create a new file
<tt class="docutils literal"><span class="pre">`files/data/some_modis_files.txt</span></tt> &lt;files/data/some_modis_files.txt&gt;`__
that contains <em>only</em> the file names for the month of August.</p>
<p>You will notice that the file names have a field in them such as
<tt class="docutils literal"><span class="pre">A2004006</span></tt>. This is the one you will need to concentrate on, as it
specifies the year (<tt class="docutils literal"><span class="pre">2004</span></tt> here) and the day of year (<tt class="docutils literal"><span class="pre">doy</span></tt>),
(<tt class="docutils literal"><span class="pre">006</span></tt> in this example).</p>
<p>There are various ways to find the day of year for a particular month /
year, e,g, look on a
<a class="reference external" href="http://www.soils.wisc.edu/cgi-bin/asig/doyCal.rb">website</a>.</p>
</div>
<div class="section" id="doing-some-science">
<h2>2.8 Doing Some Science<a class="headerlink" href="#doing-some-science" title="Permalink to this headline">¶</a></h2>
<div class="section" id="maximum-precipitation">
<h3>Maximum Precipitation<a class="headerlink" href="#maximum-precipitation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-problem">
<h4>The Problem<a class="headerlink" href="#the-problem" title="Permalink to this headline">¶</a></h4>
<p>We want to calculate the <strong>maximum</strong> monthly precipitation for regions
of the UK for all years in the 20th Century.</p>
</div>
<div class="section" id="the-data">
<h4>The Data<a class="headerlink" href="#the-data" title="Permalink to this headline">¶</a></h4>
<p>We have access to monthly average precipitation data as regional totals
from the <a class="reference external" href="http://www.metoffice.gov.uk/hadobs/hadukp/data/download.html">UK Met
Office</a>.</p>
<p>These data are in ASCII format, available over the internet.</p>
<p>e.g.
<a class="reference external" href="http://www.metoffice.gov.uk/hadobs/hadukp/data/monthly/HadSEEP_monthly_qc.txt">http://www.metoffice.gov.uk/hadobs/hadukp/data/monthly/HadSEEP_monthly_qc.txt</a></p>
<p>or locally as
<tt class="docutils literal"><span class="pre">`files/data/HadSEEP_monthly_qc.txt</span></tt> &lt;files/data/HadSEEP_monthly_qc.txt&gt;`__.</p>
<p>for South East England.</p>
</div>
<div class="section" id="solving-the-problem">
<h4>Solving the Problem<a class="headerlink" href="#solving-the-problem" title="Permalink to this headline">¶</a></h4>
<p>With just the Python skills you have learned so far, you should be able
to solve a problem of this nature.</p>
<p>Before diving into this though, you need to think through <strong>what steps</strong>
you need to go through to achieve your aim?</p>
<p>At a &#8216;high&#8217; level, this could be:</p>
<ol class="arabic simple">
<li>Examine the data</li>
<li>Read the data into the computer program</li>
<li>Select which years you want</li>
<li>Find the maximum value for each year over all months</li>
<li>Print the results</li>
</ol>
<p>So now we need to think about how to implement these steps.</p>
</div>
<div class="section" id="examine-the-data">
<h4>Examine the data<a class="headerlink" href="#examine-the-data" title="Permalink to this headline">¶</a></h4>
<p>For the first step, there are many ways you could do this.</p>
<p>You will probably want to look at the data set <a class="reference external" href="files/data/HadSEEP_monthly_qc.txt">in a
browser</a>.</p>
<p>You should see that the data are &#8216;white space&#8217; separated.</p>
<p>The first 4 lines are &#8216;header&#8217; text, giving contextual information on
the data.</p>
<p>Subsequent lines have the <strong>year</strong> in the first column, then 12 columns
of monthly precipitation, then an annual total.</p>
</div>
<div class="section" id="read-the-data-into-the-computer-program">
<h4>Read the data into the computer program<a class="headerlink" href="#read-the-data-into-the-computer-program" title="Permalink to this headline">¶</a></h4>
<ol class="loweralpha simple">
<li>You could simply save the file using &#8216;Save As ...&#8217; from the browser.</li>
<li>You could, if you really wanted, just copy and paste the data into a
file on the local system.</li>
<li>You could use the unix command <tt class="docutils literal"><span class="pre">wget</span></tt>:</li>
</ol>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">berlin%</span> <span class="pre">mkdir</span> <span class="pre">-p</span> <span class="pre">~/Data/python/Chapter2_Python_intro/files/data</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">berlin%</span> <span class="pre">cd</span> <span class="pre">~/Data/python/Chapter2_Python_intro</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">berlin%</span> <span class="pre">wget</span> <span class="pre">-O</span> <span class="pre">files/data/HadSEEP_monthly_qc.txt</span> <span class="pre">\</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">http://www.metoffice.gov.uk/hadobs/hadukp/data/monthly/HadSEEP_monthly_qc.txt</span></tt></div>
</div>
<ol class="loweralpha simple" start="4">
<li>You could download and read the file directly from a URL within
Python</li>
</ol>
<p>Let us suppose that you had downloaded the file and saved it as
<tt class="docutils literal"><span class="pre">files/data/HadSEEP_monthly_qc.txt</span></tt>.</p>
<p>In this case, we would use:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;files/data/HadSEEP_monthly_qc.txt&#39;</span>

<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="n">raw_data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">print</span> <span class="n">raw_data</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<pre class="literal-block">
['Monthly Southeast England precipitation (mm). Daily automated values used after 1996.n', 'Wigley &amp; Jones (J.Climatol.,1987), Gregory et al. (Int.J.Clim.,1991)n', 'Jones &amp; Conway (Int.J.Climatol.,1997), Alexander &amp; Jones (ASL,2001). Values may change after QC.n', 'YEAR   JAN   FEB   MAR   APR   MAY   JUN   JUL   AUG   SEP   OCT   NOV   DEC   ANNn', ' 1873  87.1  50.4  52.9  19.9  41.1  63.6  53.2  56.4  62.0  86.0  59.4  15.7  647.7n', ' 1874  46.8  44.9  15.8  48.4  24.1  49.9  28.3  43.6  79.4  96.1  63.9  52.3  593.5n', ' 1875  96.9  39.7  22.9  37.0  39.1  76.1 125.1  40.8  54.7 137.7 106.4  27.1  803.5n', ' 1876  31.8  71.9  79.5  63.6  16.5  37.2  22.3  66.3 118.2  34.1  89.0 162.9  793.3n', ' 1877 146.0  47.7  56.2  66.4  62.3  24.9  78.5  82.4  38.4  58.1 144.5  54.2  859.6n', ' 1878  39.9  44.7  34.2  76.6  96.0  46.8  42.3 133.1  35.7  72.9  94.1  40.7  757.0n']
</pre>
<p>So we have read the data in well enough, but it&#8217;s not really in a
convenient format.</p>
<div class="line-block">
<div class="line">First, it has 4 lines at the top that we don&#8217;t want.</div>
<div class="line">Second, although the data are in a list for each line, each line is</div>
</div>
<p>stored as a string.</p>
<p>Since we know about lists, we might suppose that it would be better to
have each line as a list, with each &#8216;white space&#8217; separated item being
an element of the list.</p>
<p>If we have a string such as:</p>
<p><tt class="docutils literal"><span class="pre">'</span> <span class="pre">1873</span>&nbsp; <span class="pre">87.1</span>&nbsp; <span class="pre">50.4</span>&nbsp; <span class="pre">52.9</span>&nbsp; <span class="pre">19.9</span>&nbsp; <span class="pre">41.1</span>&nbsp; <span class="pre">63.6</span>&nbsp; <span class="pre">53.2</span>&nbsp; <span class="pre">56.4</span>&nbsp; <span class="pre">62.0</span>&nbsp; <span class="pre">86.0</span>&nbsp; <span class="pre">59.4</span>&nbsp; <span class="pre">15.7</span>&nbsp; <span class="pre">647.7\n'</span></tt></p>
<p>one way to achieve this would be to use <tt class="docutils literal"><span class="pre">split()</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">line_data</span> <span class="o">=</span> <span class="s">&#39; 1873 87.1 50.4 52.9 19.9 41.1 63.6 53.2 56.4 62.0 86.0 59.4 15.7 647.7</span><span class="se">\n</span><span class="s">&#39;</span>
<span class="n">year_data</span> <span class="o">=</span> <span class="n">line_data</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="k">print</span> <span class="n">year_data</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;1873&#39;</span><span class="p">,</span> <span class="s">&#39;87.1&#39;</span><span class="p">,</span> <span class="s">&#39;50.4&#39;</span><span class="p">,</span> <span class="s">&#39;52.9&#39;</span><span class="p">,</span> <span class="s">&#39;19.9&#39;</span><span class="p">,</span> <span class="s">&#39;41.1&#39;</span><span class="p">,</span> <span class="s">&#39;63.6&#39;</span><span class="p">,</span> <span class="s">&#39;53.2&#39;</span><span class="p">,</span> <span class="s">&#39;56.4&#39;</span><span class="p">,</span> <span class="s">&#39;62.0&#39;</span><span class="p">,</span> <span class="s">&#39;86.0&#39;</span><span class="p">,</span> <span class="s">&#39;59.4&#39;</span><span class="p">,</span> <span class="s">&#39;15.7&#39;</span><span class="p">,</span> <span class="s">&#39;647.7&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Thats useful, and we could loop over each line and perform this to get
line lists with the first element as the year, second as precipitation
in January, etc.</p>
<p>But each element is still a string, and really, we want these as
<tt class="docutils literal"><span class="pre">float</span></tt>.</p>
<p>We can convert <tt class="docutils literal"><span class="pre">str</span></tt> to <tt class="docutils literal"><span class="pre">float</span></tt> using <tt class="docutils literal"><span class="pre">float()</span></tt>, but we have to do
this for each string individually.</p>
<p>We can do this in a loop:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">line_data</span> <span class="o">=</span> <span class="s">&#39; 1873 87.1 50.4 52.9 19.9 41.1 63.6 53.2 56.4 62.0 86.0 59.4 15.7 647.7</span><span class="se">\n</span><span class="s">&#39;</span>
<span class="n">year_data</span> <span class="o">=</span> <span class="n">line_data</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="k">for</span> <span class="n">column</span><span class="p">,</span><span class="n">this_element</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">year_data</span><span class="p">):</span>
    <span class="n">year_data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">this_element</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;format now&#39;</span><span class="p">,</span><span class="nb">type</span><span class="p">(</span><span class="n">year_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span> <span class="n">year_data</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>format now &lt;type &#39;float&#39;&gt;
[1873.0, 87.1, 50.4, 52.9, 19.9, 41.1, 63.6, 53.2, 56.4, 62.0, 86.0, 59.4, 15.7, 647.7]
</pre></div>
</div>
<p>Now we know how to convert each line of data into a list of floating
point numbers.</p>
<p>In practice, we will see later in the course that there are simpler ways
of achieving (using <tt class="docutils literal"><span class="pre">`numpy</span></tt> &lt;<a class="reference external" href="http://www.numpy.org/">http://www.numpy.org/</a>&gt;`__).</p>
<p>We should first chop off the first 4 lines of data:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">required_data</span> <span class="o">=</span> <span class="n">raw_data</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>

<span class="c"># lets check what the first line is now</span>
<span class="k">print</span> <span class="n">required_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>1873  87.1  50.4  52.9  19.9  41.1  63.6  53.2  56.4  62.0  86.0  59.4  15.7  647.7
</pre></div>
</div>
<p>Putting all of this together:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># specify filename</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;files/data/HadSEEP_monthly_qc.txt&#39;</span>

<span class="c"># read the data, chop off first 4 lines</span>
<span class="c"># and store in required_data</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="n">raw_data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">required_data</span> <span class="o">=</span> <span class="n">raw_data</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>

<span class="c"># set up list to store data in</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>


<span class="c"># loop over each line</span>
<span class="k">for</span> <span class="n">line_data</span> <span class="ow">in</span> <span class="n">required_data</span><span class="p">:</span>
    <span class="c"># split on white space</span>
    <span class="n">year_data</span> <span class="o">=</span> <span class="n">line_data</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="c"># convert data to float</span>
    <span class="k">for</span> <span class="n">column</span><span class="p">,</span><span class="n">this_element</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">year_data</span><span class="p">):</span>
        <span class="n">year_data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">this_element</span><span class="p">)</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">year_data</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we have the data read in, as floating point values, in the 2-D list
called <tt class="docutils literal"><span class="pre">data</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mf">1873.0</span><span class="p">,</span> <span class="mf">87.1</span><span class="p">,</span> <span class="mf">50.4</span><span class="p">,</span> <span class="mf">52.9</span><span class="p">,</span> <span class="mf">19.9</span><span class="p">,</span> <span class="mf">41.1</span><span class="p">,</span> <span class="mf">63.6</span><span class="p">,</span> <span class="mf">53.2</span><span class="p">,</span> <span class="mf">56.4</span><span class="p">,</span> <span class="mf">62.0</span><span class="p">,</span> <span class="mf">86.0</span><span class="p">,</span> <span class="mf">59.4</span><span class="p">,</span> <span class="mf">15.7</span><span class="p">,</span> <span class="mf">647.7</span><span class="p">]</span>
<span class="p">[</span><span class="mf">1874.0</span><span class="p">,</span> <span class="mf">46.8</span><span class="p">,</span> <span class="mf">44.9</span><span class="p">,</span> <span class="mf">15.8</span><span class="p">,</span> <span class="mf">48.4</span><span class="p">,</span> <span class="mf">24.1</span><span class="p">,</span> <span class="mf">49.9</span><span class="p">,</span> <span class="mf">28.3</span><span class="p">,</span> <span class="mf">43.6</span><span class="p">,</span> <span class="mf">79.4</span><span class="p">,</span> <span class="mf">96.1</span><span class="p">,</span> <span class="mf">63.9</span><span class="p">,</span> <span class="mf">52.3</span><span class="p">,</span> <span class="mf">593.5</span><span class="p">]</span>
</pre></div>
</div>
<p>and we can compare this with the <a class="reference external" href="http://www.metoffice.gov.uk/hadobs/hadukp/data/monthly/HadSEEP_monthly_qc.txt">original data we saw on the
web</a>
or the <a class="reference external" href="files/data/HadSEEP_monthly_qc.txt">file we downloaded</a> to
check it&#8217;s been read in correctly.</p>
</div>
<div class="section" id="select-which-years-you-want">
<h4>Select which years you want<a class="headerlink" href="#select-which-years-you-want" title="Permalink to this headline">¶</a></h4>
<p>We want years 1900 to 1999.</p>
<p>The year is stored in the first column, e.g. <tt class="docutils literal"><span class="pre">data[10][0]</span></tt>, and we
want columns <tt class="docutils literal"><span class="pre">1</span></tt> to <tt class="docutils literal"><span class="pre">-1</span></tt> (i.e. skip the first and last column):</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">][</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">1883.0</span>
<span class="p">[</span><span class="mf">60.2</span><span class="p">,</span> <span class="mf">97.4</span><span class="p">,</span> <span class="mf">23.6</span><span class="p">,</span> <span class="mf">36.5</span><span class="p">,</span> <span class="mf">48.1</span><span class="p">,</span> <span class="mf">53.3</span><span class="p">,</span> <span class="mf">69.7</span><span class="p">,</span> <span class="mf">21.7</span><span class="p">,</span> <span class="mf">100.6</span><span class="p">,</span> <span class="mf">58.1</span><span class="p">,</span> <span class="mf">97.8</span><span class="p">,</span> <span class="mf">22.5</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">c20_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1900</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">2000</span><span class="p">):</span>
        <span class="n">c20_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="find-the-maximum-value-for-each-year-over-all-months">
<h4>Find the maximum value for each year over all months<a class="headerlink" href="#find-the-maximum-value-for-each-year-over-all-months" title="Permalink to this headline">¶</a></h4>
<p>We want to find the maximum value in each row of <tt class="docutils literal"><span class="pre">c20_data</span></tt> now.</p>
<p>If we consider row 0, we can use e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">c20_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span> <span class="nb">max</span><span class="p">(</span><span class="n">c20_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mf">92.8</span><span class="p">,</span> <span class="mf">125.9</span><span class="p">,</span> <span class="mf">23.3</span><span class="p">,</span> <span class="mf">30.7</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">74.6</span><span class="p">,</span> <span class="mf">31.0</span><span class="p">,</span> <span class="mf">73.3</span><span class="p">,</span> <span class="mf">22.3</span><span class="p">,</span> <span class="mf">56.1</span><span class="p">,</span> <span class="mf">72.1</span><span class="p">,</span> <span class="mf">88.2</span><span class="p">]</span>
<span class="mf">125.9</span>
</pre></div>
</div>
<p>i.e. in the year 1900 (row 0), for S.E. England, the maximum rainfall
was in February.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># Aside: show which month that was</span>
<span class="n">month_names</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&quot;Jan&quot;</span><span class="p">,</span> <span class="s">&quot;Feb&quot;</span><span class="p">,</span> <span class="s">&quot;Mar&quot;</span><span class="p">,</span> <span class="s">&quot;Apr&quot;</span><span class="p">,</span> \
    <span class="s">&quot;May&quot;</span><span class="p">,</span> <span class="s">&quot;Jun&quot;</span><span class="p">,</span> <span class="s">&quot;Jul&quot;</span><span class="p">,</span> <span class="s">&quot;Aug&quot;</span><span class="p">,</span> <span class="s">&quot;Sep&quot;</span><span class="p">,</span> <span class="s">&quot;Oct&quot;</span><span class="p">,</span> <span class="s">&quot;Nov&quot;</span><span class="p">,</span> <span class="s">&quot;Dec&quot;</span> <span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;In South East England&quot;</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">year</span> <span class="o">=</span> <span class="mi">1900</span> <span class="o">+</span> <span class="n">row</span>
    <span class="n">max_precip</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">c20_data</span><span class="p">[</span><span class="n">row</span><span class="p">])</span>
    <span class="n">month</span> <span class="o">=</span> <span class="n">c20_data</span><span class="p">[</span><span class="n">row</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">max_precip</span><span class="p">)</span>

    <span class="k">print</span> <span class="s">&quot;In the year&quot;</span><span class="p">,</span><span class="n">year</span><span class="p">,</span><span class="s">&quot;the rainiest month was&quot;</span><span class="p">,</span><span class="n">month_names</span><span class="p">[</span><span class="n">month</span><span class="p">],</span><span class="s">&quot;with&quot;</span><span class="p">,</span><span class="n">max_precip</span><span class="p">,</span><span class="s">&quot;mm&quot;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>In South East England
In the year 1900 the rainiest month was Feb with 125.9 mm
In the year 1910 the rainiest month was Dec with 119.4 mm
In the year 1920 the rainiest month was Jul with 116.9 mm
In the year 1930 the rainiest month was Nov with 121.0 mm
In the year 1940 the rainiest month was Nov with 203.0 mm
In the year 1950 the rainiest month was Nov with 137.9 mm
In the year 1960 the rainiest month was Oct with 167.0 mm
In the year 1970 the rainiest month was Nov with 186.4 mm
In the year 1980 the rainiest month was Oct with 110.1 mm
In the year 1990 the rainiest month was Feb with 122.3 mm
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># max precip for all years</span>

<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">c20_data</span><span class="p">[</span><span class="n">row</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="section" id="print-the-results">
<h4>Print the results<a class="headerlink" href="#print-the-results" title="Permalink to this headline">¶</a></h4>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;In South East England, the maximum value for the years 1900 to 1999 is&quot;</span>
<span class="k">print</span> <span class="n">result</span>
<span class="k">print</span> <span class="s">&quot;The highest rainfall in a month was&quot;</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="p">),</span><span class="s">&quot;mm&quot;</span>
<span class="k">print</span> <span class="s">&quot;It occurred in&quot;</span><span class="p">,</span><span class="n">result</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">result</span><span class="p">))</span><span class="o">+</span><span class="mi">1900</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>In South East England, the maximum value for the years 1900 to 1999 is
[125.9, 98.7, 97.2, 188.4, 96.0, 104.5, 127.3, 129.5, 83.8, 143.9, 119.4, 153.6, 151.6, 106.5, 190.2, 163.9, 110.7, 135.1, 151.1, 121.4, 116.9, 70.8, 92.2, 142.5, 110.2, 98.1, 143.8, 138.5, 137.0, 175.6, 121.0, 101.3, 146.4, 74.1, 176.3, 148.2, 112.8, 124.9, 93.6, 154.0, 203.0, 117.3, 94.3, 130.2, 117.0, 103.8, 126.7, 150.7, 125.3, 189.3, 137.9, 161.9, 99.9, 87.5, 131.0, 110.5, 113.7, 97.7, 107.4, 143.4, 167.0, 102.0, 94.0, 141.0, 97.7, 126.9, 129.1, 126.6, 135.5, 108.4, 186.4, 134.4, 94.0, 76.6, 164.7, 122.8, 141.5, 132.8, 144.9, 122.6, 110.1, 131.2, 143.0, 98.5, 112.4, 103.7, 110.1, 198.7, 143.8, 143.8, 122.3, 102.0, 132.8, 133.9, 115.6, 143.1, 122.6, 100.6, 128.1, 109.5]
The highest rainfall in a month was 203.0 mm
It occurred in 1940
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-2-5">
<h2>Exercise 2.5<a class="headerlink" href="#exercise-2-5" title="Permalink to this headline">¶</a></h2>
<p>That is quite an achievement, given the limited amount of programming
you know so far.</p>
<p>If you go through this though, you will (should) see that it is really
not very efficient.</p>
<p>For example:</p>
<ul class="simple">
<li>we read all the data in and then filter out the years we want (what
if the dataset were <strong>huge</strong>?)</li>
<li>we loop over the 100 years multiple times</li>
<li>we store intermediate results</li>
</ul>
<p>For this exercise, you should look through the code we developed and try
to make it more efficient.</p>
<p>Efficiency should not override clarity and understanding though, so make
sure you can understand what is going on at each stage.</p>
</div>
<div class="section" id="exercise-2-6">
<h2>Exercise 2.6<a class="headerlink" href="#exercise-2-6" title="Permalink to this headline">¶</a></h2>
<div class="section" id="average-temperature">
<h3>Average Temperature<a class="headerlink" href="#average-temperature" title="Permalink to this headline">¶</a></h3>
<p>We want to calculate the long-term average temperature (tmax degC) using
observational data at one or more meteorological stations. Such data are
<a class="reference external" href="http://www.carbonbrief.org/profiles/global-temperatures/">relevant to understanding climate and its
dynamics</a>.</p>
<p>We choose the period 1960 to 1990 (30 years average to even out natural
variability).</p>
<p>We can obtain monthly average data for a number of UK stations from the
<a class="reference external" href="http://www.metoffice.gov.uk/climate/uk/stationdata">UK Met. Office</a>.</p>
<p>Not all station records are complete enough for this calculation, so we
select, for example
<a class="reference external" href="http://www.metoffice.gov.uk/climate/uk/stationdata/heathrowdata.txt">Heathrow</a>.</p>
<p>Just with the Python skills you have learned so far, you should be able
to solve a problem of this nature.</p>
<p>Before diving into this though, you need to think through <strong>what steps</strong>
you need to go through to achieve your aim?</p>
<p>At a &#8216;high&#8217; level, this could be:</p>
<ol class="arabic simple">
<li>Get hold of the data</li>
<li>Read the data into the computer program</li>
<li>Select which years you want</li>
<li>Average the data for each month over all selected years</li>
<li>Print the results</li>
</ol>
<p>So now we need to think about how to implement these steps.</p>
<p>For the first step, there are many ways you could do this.</p>
</div>
</div>
<div class="section" id="dictionaries">
<h2>2.9 Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">¶</a></h2>
<p>Dictionaries (type <tt class="docutils literal"><span class="pre">dict</span></tt>) are another way of grouping objects.</p>
<p>These are defined within curley brackets <tt class="docutils literal"><span class="pre">{}</span></tt> and are distinguished by
having a <tt class="docutils literal"><span class="pre">'key</span></tt> and <tt class="docutils literal"><span class="pre">value</span></tt> for each item.</p>
<p>e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>

<span class="c"># we then refer to the keys and values in the dict as:</span>

<span class="k">print</span> <span class="s">&#39;a:</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">a</span>
<span class="k">print</span> <span class="s">&#39;a.keys():</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">a</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>     <span class="c"># the keys</span>
<span class="k">print</span> <span class="s">&#39;a.values():</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">a</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="c"># returns the values</span>
<span class="k">print</span> <span class="s">&#39;a.items():</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">a</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>   <span class="c"># returns a list of tuples</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>a:
    {&#39;three&#39;: 3, &#39;two&#39;: 2, &#39;one&#39;: 1}
a.keys():
    [&#39;three&#39;, &#39;two&#39;, &#39;one&#39;]
a.values():
    [3, 2, 1]
a.items():
    [(&#39;three&#39;, 3), (&#39;two&#39;, 2), (&#39;one&#39;, 1)]
</pre></div>
</div>
<p>Notice that the order they appear in is not necessarily the same as when
we generated the dictionary.</p>
<p>We refer to specific items as e.g.:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;one&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mi">1</span>
</pre></div>
</div>
<p>We can loop over dictionaries in various interesting ways:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">a</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mi">3</span>
<span class="mi">2</span>
<span class="mi">1</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>three 3
two 2
one 1
</pre></div>
</div>
<p>If you really need to process in some order, you need to sort the keys
in some way:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">sort</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
    <span class="k">print</span> <span class="n">a</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mi">1</span>
<span class="mi">3</span>
<span class="mi">2</span>
</pre></div>
</div>
<p>though in this case this still might not be what you want, so be
careful.</p>
<p>You can add to a list with <tt class="docutils literal"><span class="pre">update</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">a</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;four&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="s">&#39;five&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">})</span>
<span class="k">print</span> <span class="n">a</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;four&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#39;five&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>or for a single item:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">a</span><span class="p">[</span><span class="s">&#39;six&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="k">print</span> <span class="n">a</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;six&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&#39;three&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;four&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">&#39;five&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>or delete items:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">del</span> <span class="n">a</span><span class="p">[</span><span class="s">&#39;three&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="n">a</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;six&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;four&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">&#39;five&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>These trivial examples are useful for understanding some basic
operations on dictionaries, but don&#8217;t show their real power.</p>
<p>A good example is to consider a configuration file.</p>
<p>When we have to run complicated processing jobs (e.g. on stacks of
satellite data), we will often control the processing of these jobs with
some text that we may put in a file.</p>
<p>This would describe the particular conditions that one subset of the
jobs would process, for example.</p>
<p>Following from exercise 2.4 above, we might create a configuration file
with:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>[TERRA]
dir  = /data/geospatial_19/ucfajlg/fire/Angola/MOD09
name = MODIS TERRA data
year = 2004
doy_start = 214
doy_end = 245
file_list = files/data/modis_files2a.txt

[AQUA]
dir  = /data/geospatial_19/ucfajlg/fire/Angola/MYD09
name = MODIS AQUA data
year = 2004
doy_start = 214
doy_end = 245
file_list = files/data/modis_files2b.txt
</pre></div>
</div>
<p>This information is in the file
<tt class="docutils literal"><span class="pre">`files/data/modis.cfg</span></tt> &lt;files/data/modis.cfg&gt;`__.</p>
<p>We could read and parse this file ourselves:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;files/data/modis.cfg&#39;</span><span class="p">)</span>

<span class="c"># empty dict</span>
<span class="n">modis</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">this_section</span> <span class="o">=</span> <span class="n">modis</span>

<span class="c"># loop over each line</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="c"># strip any extra white space</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="c"># check that there is some text</span>
    <span class="c"># and it starts with [ and ends with ]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="ow">and</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;[&#39;</span> <span class="ow">and</span> <span class="n">line</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;]&#39;</span><span class="p">:</span>
        <span class="n">section</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">modis</span><span class="p">[</span><span class="n">section</span><span class="p">]</span> <span class="o">=</span> <span class="n">this_section</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="ow">and</span> <span class="n">line</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;=&quot;</span><span class="p">)</span>
        <span class="n">this_section</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">print</span> <span class="n">modis</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;AQUA&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;doy_end&#39;</span><span class="p">:</span> <span class="s">&#39;245&#39;</span><span class="p">,</span> <span class="s">&#39;doy_start&#39;</span><span class="p">:</span> <span class="s">&#39;214&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;MODIS AQUA data&#39;</span><span class="p">,</span> <span class="s">&#39;year&#39;</span><span class="p">:</span> <span class="s">&#39;2004&#39;</span><span class="p">,</span> <span class="s">&#39;file_list&#39;</span><span class="p">:</span> <span class="s">&#39;files/data/modis_files2b.txt&#39;</span><span class="p">,</span> <span class="s">&#39;dir&#39;</span><span class="p">:</span> <span class="s">&#39;/data/geospatial_19/ucfajlg/fire/Angola/MYD09&#39;</span><span class="p">},</span> <span class="s">&#39;TERRA&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;doy_end&#39;</span><span class="p">:</span> <span class="s">&#39;245&#39;</span><span class="p">,</span> <span class="s">&#39;doy_start&#39;</span><span class="p">:</span> <span class="s">&#39;214&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;MODIS TERRA data&#39;</span><span class="p">,</span> <span class="s">&#39;year&#39;</span><span class="p">:</span> <span class="s">&#39;2004&#39;</span><span class="p">,</span> <span class="s">&#39;file_list&#39;</span><span class="p">:</span> <span class="s">&#39;files/data/modis_files2a.txt&#39;</span><span class="p">,</span> <span class="s">&#39;dir&#39;</span><span class="p">:</span> <span class="s">&#39;/data/geospatial_19/ucfajlg/fire/Angola/MOD09&#39;</span><span class="p">}}</span>
</pre></div>
</div>
<p>though in practice, we might choose to use the
<tt class="docutils literal"><span class="pre">`ConfigParser</span></tt> &lt;<a class="reference external" href="http://docs.python.org/2/library/configparser.html">http://docs.python.org/2/library/configparser.html</a>&gt;`__
module:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">ConfigParser</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;files/data/modis.cfg&#39;</span><span class="p">)</span>

<span class="c"># we can convert this to a normal dictionary</span>
<span class="n">modis</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">sections</span><span class="p">():</span>
    <span class="n">modis</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
<span class="k">print</span> <span class="n">modis</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;AQUA&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;doy_end&#39;</span><span class="p">:</span> <span class="s">&#39;245&#39;</span><span class="p">,</span> <span class="s">&#39;doy_start&#39;</span><span class="p">:</span> <span class="s">&#39;214&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;MODIS AQUA data&#39;</span><span class="p">,</span> <span class="s">&#39;year&#39;</span><span class="p">:</span> <span class="s">&#39;2004&#39;</span><span class="p">,</span> <span class="s">&#39;file_list&#39;</span><span class="p">:</span> <span class="s">&#39;files/data/modis_files2b.txt&#39;</span><span class="p">,</span> <span class="s">&#39;dir&#39;</span><span class="p">:</span> <span class="s">&#39;/data/geospatial_19/ucfajlg/fire/Angola/MYD09&#39;</span><span class="p">},</span> <span class="s">&#39;TERRA&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;doy_end&#39;</span><span class="p">:</span> <span class="s">&#39;245&#39;</span><span class="p">,</span> <span class="s">&#39;doy_start&#39;</span><span class="p">:</span> <span class="s">&#39;214&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;MODIS TERRA data&#39;</span><span class="p">,</span> <span class="s">&#39;year&#39;</span><span class="p">:</span> <span class="s">&#39;2004&#39;</span><span class="p">,</span> <span class="s">&#39;file_list&#39;</span><span class="p">:</span> <span class="s">&#39;files/data/modis_files2a.txt&#39;</span><span class="p">,</span> <span class="s">&#39;dir&#39;</span><span class="p">:</span> <span class="s">&#39;/data/geospatial_19/ucfajlg/fire/Angola/MOD09&#39;</span><span class="p">}}</span>
</pre></div>
</div>
<p>The text file
<a class="reference external" href="files/data/modis_files2a.txt">files/data/modis_files2a.txt</a>
contains a listing of hdf format files that are in the directory
<tt class="docutils literal"><span class="pre">/data/geospatial_19/ucfajlg/fire/Angola/MOD09</span></tt> and
<a class="reference external" href="files/data/modis_files2b.txt">files/data/modis_files2b.txt</a> those
in <tt class="docutils literal"><span class="pre">/data/geospatial_19/ucfajlg/fire/Angola/MYD09</span></tt> on the UCL
Geography system. The contents of the files looks like (first 10 lines):</p>
<div class="code python highlight-python"><div class="highlight"><pre>!head -10 &lt;  files/data/modis_files2b.txt
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>MYD09GA.A2004001.h19v10.005.2008035021539.hdf
MYD09GA.A2004002.h19v10.005.2008035115941.hdf
MYD09GA.A2004003.h19v10.005.2008035223215.hdf
MYD09GA.A2004004.h19v10.005.2008036154947.hdf
MYD09GA.A2004005.h19v10.005.2008036025835.hdf
MYD09GA.A2004006.h19v10.005.2008037030304.hdf
MYD09GA.A2004007.h19v10.005.2008037072048.hdf
MYD09GA.A2004008.h19v10.005.2008037155636.hdf
MYD09GA.A2004009.h19v10.005.2008037162301.hdf
MYD09GA.A2004010.h19v10.005.2008038034819.hdf
</pre></div>
</div>
<p>Let&#8217;s try to use the information in the configuration dictionary
<tt class="docutils literal"><span class="pre">modis</span></tt> to generate a list of the files we want to process:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># first, work out how to loop over config sections</span>
<span class="c"># and get the sub-dictionary</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">modis</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">examining section&quot;</span><span class="p">,</span><span class="n">k</span>
    <span class="n">sub_dict</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">print</span> <span class="n">v</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>examining section AQUA
{&#39;doy_end&#39;: &#39;245&#39;, &#39;doy_start&#39;: &#39;214&#39;, &#39;name&#39;: &#39;MODIS AQUA data&#39;, &#39;year&#39;: &#39;2004&#39;, &#39;file_list&#39;: &#39;files/data/modis_files2b.txt&#39;, &#39;dir&#39;: &#39;/data/geospatial_19/ucfajlg/fire/Angola/MYD09&#39;}

examining section TERRA
{&#39;doy_end&#39;: &#39;245&#39;, &#39;doy_start&#39;: &#39;214&#39;, &#39;name&#39;: &#39;MODIS TERRA data&#39;, &#39;year&#39;: &#39;2004&#39;, &#39;file_list&#39;: &#39;files/data/modis_files2a.txt&#39;, &#39;dir&#39;: &#39;/data/geospatial_19/ucfajlg/fire/Angola/MOD09&#39;}
</pre></div>
</div>
<p>Next, make sure we can read the <tt class="docutils literal"><span class="pre">file_list</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&#39;reading&#39;</span><span class="p">,</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">]</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="n">file_data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c"># print the first one, just to see what it looks like</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">print</span> <span class="n">file_data</span><span class="p">[</span><span class="n">count</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>reading files/data/modis_files2a.txt
MOD09GA.A2004001.h19v10.005.2008109063923.hdf
</pre></div>
</div>
<p>Make sure we can get the day of year from this:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">file_data</span><span class="p">[</span><span class="n">count</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">
['MOD09GA', 'A2004001', 'h19v10', '005', '2008109063923', 'hdfn']
</pre>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">file_data</span><span class="p">[</span><span class="n">count</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A2004001</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">file_data</span><span class="p">[</span><span class="n">count</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
<span class="k">print</span> <span class="n">doy</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mi">1</span>
</pre></div>
</div>
<p>whats the range of days we want?</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">doy_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_start&#39;</span><span class="p">]),</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_end&#39;</span><span class="p">]))</span>
<span class="k">print</span> <span class="n">doy_range</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">214</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span> <span class="mi">216</span><span class="p">,</span> <span class="mi">217</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">221</span><span class="p">,</span> <span class="mi">222</span><span class="p">,</span> <span class="mi">223</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">225</span><span class="p">,</span> <span class="mi">226</span><span class="p">,</span> <span class="mi">227</span><span class="p">,</span> <span class="mi">228</span><span class="p">,</span> <span class="mi">229</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span> <span class="mi">233</span><span class="p">,</span> <span class="mi">234</span><span class="p">,</span> <span class="mi">235</span><span class="p">,</span> <span class="mi">236</span><span class="p">,</span> <span class="mi">237</span><span class="p">,</span> <span class="mi">238</span><span class="p">,</span> <span class="mi">239</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">241</span><span class="p">,</span> <span class="mi">242</span><span class="p">,</span> <span class="mi">243</span><span class="p">,</span> <span class="mi">244</span><span class="p">]</span>
</pre></div>
</div>
<p>Is <tt class="docutils literal"><span class="pre">doy</span></tt> in the range?</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="n">doy</span> <span class="ow">in</span> <span class="n">doy_range</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">False</span>
</pre></div>
</div>
<p>So now we have all of the parts we need to create this code:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># 1. Read the configuration file</span>
<span class="c"># into the dict modis</span>
<span class="kn">import</span> <span class="nn">ConfigParser</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;files/data/modis.cfg&#39;</span><span class="p">)</span>

<span class="c"># we can convert this to a normal dictionary</span>
<span class="n">modis</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">sections</span><span class="p">():</span>
    <span class="n">modis</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>

<span class="c"># 2. Now, loop over config sections</span>
<span class="c"># and get the sub-dictionary which we call sub_dict</span>

<span class="c"># 3. set up anb empty list to contain the</span>
<span class="c"># files we want to process</span>
<span class="n">wanted_files</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">modis</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="n">sub_dict</span> <span class="o">=</span> <span class="n">v</span>

    <span class="c"># 3a. Read the file list</span>
    <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
    <span class="n">file_data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c"># 3b. find the doy range</span>
    <span class="n">doy_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_start&#39;</span><span class="p">]),</span>\
                          <span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_end&#39;</span><span class="p">]))</span>

    <span class="c"># 3c. loop over each file read from</span>
    <span class="c">#     sub_dict[&#39;file_list&#39;]</span>
    <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="p">)):</span>
        <span class="c"># 3d. extract doy from the file name</span>
        <span class="n">this_file</span> <span class="o">=</span> <span class="n">file_data</span><span class="p">[</span><span class="n">count</span><span class="p">]</span>

        <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>

        <span class="c"># 3e. see if doy is in the range we want?</span>
        <span class="k">if</span> <span class="n">doy</span> <span class="ow">in</span> <span class="n">doy_range</span><span class="p">:</span>

            <span class="c"># 3f. put the directory on the fornt</span>
            <span class="n">full_name</span> <span class="o">=</span> <span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;dir&#39;</span><span class="p">]</span> <span class="o">+</span> \
                        <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">this_file</span>
            <span class="n">wanted_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_name</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;I found </span><span class="si">%d</span><span class="s"> files to process&quot;</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">wanted_files</span><span class="p">)</span>

<span class="c"># I won&#39;t print the whole list as its too long</span>
<span class="c"># just the first 10</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">wanted_files</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="k">print</span> <span class="n">f</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>I found 62 files to process
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004214.h19v10.005.2007299212915.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004215.h19v10.005.2007300042347.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004216.h19v10.005.2007300091257.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004217.h19v10.005.2007300153436.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004218.h19v10.005.2007300215826.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004219.h19v10.005.2007302194509.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004220.h19v10.005.2007302093547.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004221.h19v10.005.2007302222054.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004222.h19v10.005.2007303011606.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004223.h19v10.005.2007303073538.hdf
</pre></div>
</div>
</div>
<div class="section" id="exercise-2-7">
<h2>Exercise 2.7<a class="headerlink" href="#exercise-2-7" title="Permalink to this headline">¶</a></h2>
<p>You should modify the example above to make it simpler, if you can spot
any places for that (don&#8217;t make it more complicated!).</p>
<p>You should then modify it so that the list of files that we want to
process is printed to a file.</p>
</div>
<div class="section" id="where-we-have-reached">
<h2>2.10 Where we have reached<a class="headerlink" href="#where-we-have-reached" title="Permalink to this headline">¶</a></h2>
<p>That is plenty of Python for one day. We would not expect you to be able
to remember all of this the first time you go through it: you will have
to work at it and go through it multiple times. Make sure that the time
you spend going through codes and examples is profitable though: it is
all too easy to sit and stare at a section of code for hours without
<em>learning</em> anything ... you need to be engaged with the learning for
this to happen, so take frequent breaks, write your own summary notes
and do whatever you need to get to grips with the basics here.</p>
<p>Although we have rather crammed a lot into this session, that is for
timetabling reasons more than for effectiveness. When you go through it
in your own time, break it into sections and try to get to grips with
each part.</p>
<p>We would not expect you to be able to develop codes of the sort we have
developed above from scratch to start with, but as you go through these
notes and do the exercises, you should start to understand something of
how we build a piece of code.</p>
<p>Our experience is that you should be able to get to grips with these
examples (or at least most of them). Don&#8217;t start by looking at some
finished piece of code ... start by going through the simple examples to
learn the commands and syntax, then try to put the pieces together.</p>
<p>Once you have learned the basic tools, you will be in a much better
position to think about <em>algorithms</em>, i.e. how to break a problem down
into smaller parts that you can solve with the Python that you know.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="index">
          <img class="logo" src="../_static/ucl_logo.png" alt="Logo"/>
        </a></p><div class="sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">1. Introduction to Python</a><ul>
<li><a class="reference internal" href="#python">1.1 Python</a></li>
<li><a class="reference internal" href="#running-python-programs">1.2 Running Python Programs</a><ul>
<li><a class="reference internal" href="#requirements">1.2.1 Requirements</a></li>
<li><a class="reference internal" href="#running-python">2.2.2 Running Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-started">2.3 Getting Started</a><ul>
<li><a class="reference internal" href="#variables-values-and-data-types">2.3.1 Variables, Values and Data types</a><ul>
<li><a class="reference internal" href="#type">type</a></li>
<li><a class="reference internal" href="#del">del</a></li>
</ul>
</li>
<li><a class="reference internal" href="#arithmetic">2.3.2 Arithmetic</a></li>
<li><a class="reference internal" href="#exercise">Exercise</a></li>
<li><a class="reference internal" href="#assignment-operators">2.3.3 Assignment Operators</a></li>
<li><a class="reference internal" href="#logical-operators">2.3.4 Logical Operators</a></li>
<li><a class="reference internal" href="#comparison-operators">2.3.5 Comparison Operators</a></li>
<li><a class="reference internal" href="#exercise-2-1">Exercise 2.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#groups-of-things">2.4 Groups of things</a><ul>
<li><a class="reference internal" href="#tuples-lists-and-dictionaries">2.4.1 tuples, lists and dictionaries</a><ul>
<li><a class="reference internal" href="#tuple">tuple</a></li>
<li><a class="reference internal" href="#len">len</a></li>
<li><a class="reference internal" href="#slice">slice</a></li>
<li><a class="reference internal" href="#string-as-a-group">string as a group</a></li>
<li><a class="reference internal" href="#list">list</a></li>
<li><a class="reference internal" href="#range">range</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#loops-and-conditional-statements-if-for-while">2.5 Loops and Conditional Statements: if, for, while</a><ul>
<li><a class="reference internal" href="#exercise-2-2">Exercise 2.2</a><ul>
<li><a class="reference internal" href="#a">A.</a></li>
<li><a class="reference internal" href="#b">B.</a></li>
<li><a class="reference internal" href="#for">for</a></li>
<li><a class="reference internal" href="#xrange">xrange</a></li>
<li><a class="reference internal" href="#enumerate">enumerate</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#strings-and-things">2.6 Strings and things</a><ul>
<li><a class="reference internal" href="#some-basic-string-operations">2.6.1 Some basic string operations</a></li>
<li><a class="reference internal" href="#split">2.6.2 split</a></li>
<li><a class="reference internal" href="#join">2.6.3 join</a></li>
<li><a class="reference internal" href="#listcomp">2.6.4 listcomp</a></li>
<li><a class="reference internal" href="#generator-expressions">2.6.5 generator expressions</a></li>
<li><a class="reference internal" href="#replace">2.6.6 replace</a></li>
<li><a class="reference internal" href="#format">2.6.7 format</a></li>
<li><a class="reference internal" href="#strip">2.6.8 strip</a></li>
<li><a class="reference internal" href="#getting-and-splitting-filenames">2.6.9 Getting and splitting filenames</a><ul>
<li><a class="reference internal" href="#glob">glob</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#exercise-2-3">Exercise 2.3</a></li>
<li><a class="reference internal" href="#files">2.7 Files</a></li>
<li><a class="reference internal" href="#exercise-2-4">Exercise 2.4</a></li>
<li><a class="reference internal" href="#doing-some-science">2.8 Doing Some Science</a><ul>
<li><a class="reference internal" href="#maximum-precipitation">Maximum Precipitation</a><ul>
<li><a class="reference internal" href="#the-problem">The Problem</a></li>
<li><a class="reference internal" href="#the-data">The Data</a></li>
<li><a class="reference internal" href="#solving-the-problem">Solving the Problem</a></li>
<li><a class="reference internal" href="#examine-the-data">Examine the data</a></li>
<li><a class="reference internal" href="#read-the-data-into-the-computer-program">Read the data into the computer program</a></li>
<li><a class="reference internal" href="#select-which-years-you-want">Select which years you want</a></li>
<li><a class="reference internal" href="#find-the-maximum-value-for-each-year-over-all-months">Find the maximum value for each year over all months</a></li>
<li><a class="reference internal" href="#print-the-results">Print the results</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#exercise-2-5">Exercise 2.5</a></li>
<li><a class="reference internal" href="#exercise-2-6">Exercise 2.6</a><ul>
<li><a class="reference internal" href="#average-temperature">Average Temperature</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dictionaries">2.9 Dictionaries</a></li>
<li><a class="reference internal" href="#exercise-2-7">Exercise 2.7</a></li>
<li><a class="reference internal" href="#where-we-have-reached">2.10 Where we have reached</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="../Chapter0_Introduction/f1_index.html"
                          title="Previous page">&larr; Welcome to GeogG122: Scientific Computing</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="../Chapter3_Scientific_Numerical_Python/Scientific_Numerical_Python.html"
                          title="Next page">&rarr; 3. Plotting and Numerical Python</a></p>
  </div>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/Chapter2_Python_intro/python101.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../Chapter3_Scientific_Numerical_Python/Scientific_Numerical_Python.html" title="3. Plotting and Numerical Python"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="../Chapter0_Introduction/f1_index.html" title="Welcome to GeogG122: Scientific Computing"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">geogg122</a> &raquo;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2014, Prof. P. Lewis.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>