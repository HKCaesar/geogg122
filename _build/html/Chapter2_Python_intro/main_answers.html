

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>E2. Exercises &mdash; GeogG122: Scientific Computing v&lt;release&gt; documentation</title>
    
    <link rel="stylesheet" href="../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="top" title="GeogG122: Scientific Computing v&lt;release&gt; documentation" href="../index.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
    <li><a href="../index.html">geogg122</a> &raquo;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="e2-exercises">
<h1>E2. Exercises<a class="headerlink" href="#e2-exercises" title="Permalink to this headline">¶</a></h1>
<p>This notebook contains answers and notes for the following exercises:</p>
<ul class="simple">
<li><a class="reference external" href="#Exercise_2.1">Exercise 2.1</a><ul>
<li><a class="reference external" href="#Answer-2.1">Answer 2.1</a></li>
</ul>
</li>
<li><a class="reference external" href="#Exercise_2.2">Exercise 2.2</a><ul>
<li><a class="reference external" href="#Answer-2.2">Answer 2.2</a></li>
</ul>
</li>
<li><a class="reference external" href="#Exercise_2.3">Exercise 2.3</a><ul>
<li><a class="reference external" href="#Answer-2.3">Answer 2.3</a></li>
</ul>
</li>
<li><a class="reference external" href="#Exercise_2.4">Exercise 2.4</a><ul>
<li><a class="reference external" href="#Answer-2.4">Answer 2.4</a></li>
</ul>
</li>
<li><a class="reference external" href="#Exercise_2.5">Exercise 2.5</a><ul>
<li><a class="reference external" href="#Answer-2.5">Answer 2.5</a></li>
</ul>
</li>
<li><a class="reference external" href="#Exercise_2.6">Exercise 2.6</a><ul>
<li><a class="reference external" href="#Answer-2.6">Answer 2.6</a></li>
</ul>
</li>
<li><a class="reference external" href="#Exercise_2.7">Exercise 2.7</a><ul>
<li><a class="reference external" href="#Answer-2.7">Answer 2.7</a></li>
</ul>
</li>
</ul>
<div class="section" id="exercise-2-1">
<h2>Exercise 2.1<a class="headerlink" href="#exercise-2-1" title="Permalink to this headline">¶</a></h2>
<p>You were given some code:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>



<span class="c"># hunger threshold in hours</span>
<span class="n">hungerThreshold</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="c"># sleep threshold in hours</span>
<span class="n">sleepThreshold</span> <span class="o">=</span> <span class="mf">8.0</span>

<span class="c"># time since fed, in hours</span>
<span class="n">timeSinceFed</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="c"># time since sleep, in hours</span>
<span class="n">timeSinceSleep</span> <span class="o">=</span> <span class="mf">3.0</span>

<span class="c"># Note use of \ as line continuation here</span>
<span class="c"># It is poor style to have code lines &gt; 79 characters</span>
<span class="c">#</span>
<span class="c"># see http://www.python.org/dev/peps/pep-0008/#maximum-line-length</span>
<span class="c">#</span>
<span class="k">print</span> <span class="s">&quot;Tired and hungry?&quot;</span><span class="p">,(</span><span class="n">timeSinceSleep</span> <span class="o">&gt;=</span> <span class="n">sleepThreshold</span><span class="p">)</span> <span class="ow">and</span> \
                            <span class="p">(</span><span class="n">timeSinceFed</span> <span class="o">&gt;=</span> <span class="n">hungerThreshold</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Just tired?&quot;</span><span class="p">,(</span><span class="n">timeSinceSleep</span> <span class="o">&gt;=</span> <span class="n">sleepThreshold</span><span class="p">)</span> <span class="ow">and</span> \
                            <span class="p">(</span><span class="ow">not</span> <span class="p">(</span><span class="n">timeSinceFed</span> <span class="o">&gt;=</span> <span class="n">hungerThreshold</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&quot;Just hungry?&quot;</span><span class="p">,(</span><span class="ow">not</span> <span class="p">(</span><span class="n">timeSinceSleep</span> <span class="o">&gt;=</span> <span class="n">sleepThreshold</span><span class="p">))</span> <span class="ow">and</span> \
                            <span class="p">(</span><span class="n">timeSinceFed</span> <span class="o">&gt;=</span> <span class="n">hungerThreshold</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Tired and hungry? False
Just tired? False
Just hungry? True
</pre></div>
</div>
<p>The code above works fine, but the large blocks of logical tests are not
very clear or readable, and contain repeated items.</p>
<p>Modify this block of code to be clearer by assigning the individual
logical tests to variables,</p>
<p>e.g.</p>
<p><tt class="docutils literal"><span class="pre">tired</span> <span class="pre">=</span> <span class="pre">timeSinceSleep</span> <span class="pre">&gt;=</span> <span class="pre">sleepThreshold</span></tt></p>
</div>
<div class="section" id="answer-2-1">
<h2>Answer 2.1<a class="headerlink" href="#answer-2-1" title="Permalink to this headline">¶</a></h2>
<p>This is quite easily made clearer, and is also improved by making sure
you comment what you are doing.</p>
<p>It is normally a good idea to put some information on what the purpose
of the code is etc.</p>
<p>It is also a good idea if you get into the practice of describing what
changes you have made to the code from the original version that this is
based on, to give full attribution. We will see that this is important
with regard to plagiarism in coursework submission.</p>
<p>Hasve a look at the <a class="reference external" href="http://www.python.org/dev/peps/pep-0008/#code-lay-out">Python
styleguide</a>
for ideas on what makes good clear code.</p>
<p>You wouldn&#8217;t have been expected to do <em>all</em> of these things (the code
below is mainly to give you some ideas for what to do next time!), but
hopefully you will have at least set the variables:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">tired</span>&nbsp; <span class="pre">=</span> <span class="pre">(timeSinceSleep</span> <span class="pre">&gt;=</span> <span class="pre">sleepThreshold)</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">hungry</span> <span class="pre">=</span> <span class="pre">(timeSinceFed</span> <span class="pre">&gt;=</span> <span class="pre">hungerThreshold)</span></tt></div>
</div>
<p>and used them in the code for greater clarity.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot; Exercise 2.1 Scientific Computing</span>

<span class="sd">    Thu  3 Oct 2013 10:46:58 BST</span>

<span class="sd">    P. Lewis : p.lewis@ucl.ac.uk</span>

<span class="sd">    This code prints information on whether</span>
<span class="sd">    I am tired and/or hungry.</span>

<span class="sd">    It is controlled by the variables:</span>
<span class="sd">        timeSinceFed</span>
<span class="sd">        timeSinceSleep</span>

<span class="sd">    which are checked against hunger and</span>
<span class="sd">    sleep thresholds:</span>
<span class="sd">        hungerThreshold</span>
<span class="sd">        sleepThreshold</span>

<span class="sd">    All times given as float, in hours</span>


<span class="sd">    It is a modification of the code in Exercise 2.1</span>
<span class="sd">    of Scientific Computing (https://github.com/profLewis/geogg122)</span>

<span class="sd">    Edits made from original:</span>
<span class="sd">        - added detailed comment strings</span>
<span class="sd">        - neatened up the comments</span>
<span class="sd">        - made code easier to read by setting variables</span>
<span class="sd">          tired and hungry.</span>
<span class="sd">        - added a new result for &#39;tired or hungry&#39;</span>
<span class="sd">        - added tabs (\t) to the print statements to get</span>
<span class="sd">          neater output formatting.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="c"># Thresholds</span>
<span class="n">hungerThreshold</span> <span class="o">=</span> <span class="mf">3.0</span>    <span class="c"># hunger threshold in hours</span>
<span class="n">sleepThreshold</span>  <span class="o">=</span> <span class="mf">8.0</span>    <span class="c"># sleep threshold in hours</span>

<span class="c"># Control variables</span>
<span class="n">timeSinceFed</span>   <span class="o">=</span> <span class="mf">4.0</span>     <span class="c"># time since fed, in hour</span>
<span class="n">timeSinceSleep</span> <span class="o">=</span> <span class="mf">3.0</span>     <span class="c"># time since sleep, in hours</span>

<span class="c"># logical tests for tired and hungry</span>
<span class="n">tired</span>  <span class="o">=</span> <span class="p">(</span><span class="n">timeSinceSleep</span> <span class="o">&gt;=</span> <span class="n">sleepThreshold</span><span class="p">)</span>
<span class="n">hungry</span> <span class="o">=</span> <span class="p">(</span><span class="n">timeSinceFed</span> <span class="o">&gt;=</span> <span class="n">hungerThreshold</span><span class="p">)</span>

<span class="c"># print results</span>
<span class="k">print</span> <span class="s">&quot;Tired and hungry?</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">,</span>  <span class="n">tired</span> <span class="ow">and</span> <span class="n">hungry</span>
<span class="k">print</span> <span class="s">&quot;Tired or hungry?</span><span class="se">\t\t</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">tired</span> <span class="ow">or</span> <span class="n">hungry</span>
<span class="k">print</span> <span class="s">&quot;Just tired?</span><span class="se">\t\t</span><span class="s">&quot;</span><span class="p">,</span>      <span class="n">tired</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">hungry</span>
<span class="k">print</span> <span class="s">&quot;Just hungry?</span><span class="se">\t\t</span><span class="s">&quot;</span><span class="p">,</span>     <span class="n">hungry</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">tired</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Tired and hungry?   False
Tired or hungry?            True
Just tired?         False
Just hungry?                True
</pre></div>
</div>
</div>
<div class="section" id="exercise-2-2">
<h2>Exercise 2.2<a class="headerlink" href="#exercise-2-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="a">
<h3>A.<a class="headerlink" href="#a" title="Permalink to this headline">¶</a></h3>
<p>A small piece of Python code that will set the variable <tt class="docutils literal"><span class="pre">today</span></tt> to be
a string with the day of the week today is:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># This imports a module that we can use to access dates</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c"># set up a list of days of the week, starting Monday</span>
<span class="c"># Note the line continuation here with \</span>
<span class="n">week</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Monday&#39;</span><span class="p">,</span><span class="s">&#39;Tuesday&#39;</span><span class="p">,</span><span class="s">&#39;Wednesday&#39;</span><span class="p">,</span><span class="s">&#39;Thursday&#39;</span><span class="p">,</span>\
        <span class="s">&#39;Friday&#39;</span><span class="p">,</span><span class="s">&#39;Saturday&#39;</span><span class="p">,</span><span class="s">&#39;Sunday&#39;</span><span class="p">]</span>

<span class="c"># This part gives the day of the week</span>
<span class="c"># as an integer, 0 -&gt; Monday, 1 -&gt; Tuesday etc.</span>
<span class="n">day_number</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>

<span class="c"># print item day_number in the list week</span>
<span class="k">print</span> <span class="s">&quot;today is&quot;</span><span class="p">,</span><span class="n">week</span><span class="p">[</span><span class="n">day_number</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">today</span> <span class="ow">is</span> <span class="n">Tuesday</span>
</pre></div>
</div>
<p>Based on the example below, <strong>set up a diary for youself for the week to
print out what you should be doing today, using the conditional
structure ``if .. elif ... else``.</strong></p>
</div>
</div>
<div class="section" id="answer-2-2">
<h2>Answer 2.2<a class="headerlink" href="#answer-2-2" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Exercise 2.2A Scientific Computing</span>

<span class="sd">    Mon  7 Oct 2013 10:43:38 BST</span>

<span class="sd">    P. Lewis : p.lewis@ucl.ac.uk</span>

<span class="sd">    This code prints a diary for today.</span>

<span class="sd">&#39;&#39;&#39;</span>

<span class="sd">&#39;&#39;&#39;The following code block is taken verbatim from</span>
<span class="sd">   The Scientific Computing notes</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="c"># This imports a module that we can use to access dates</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c"># set up a list of days of the week, starting Monday</span>
<span class="c"># Note the line continuation here with \</span>
<span class="n">week</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Monday&#39;</span><span class="p">,</span><span class="s">&#39;Tuesday&#39;</span><span class="p">,</span><span class="s">&#39;Wednesday&#39;</span><span class="p">,</span><span class="s">&#39;Thursday&#39;</span><span class="p">,</span>\
        <span class="s">&#39;Friday&#39;</span><span class="p">,</span><span class="s">&#39;Saturday&#39;</span><span class="p">,</span><span class="s">&#39;Sunday&#39;</span><span class="p">]</span>

<span class="c"># This part gives the day of the week</span>
<span class="c"># as an integer, 0 -&gt; Monday, 1 -&gt; Tuesday etc.</span>
<span class="n">day_number</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>

<span class="c"># print item day_number in the list week</span>
<span class="k">print</span> <span class="s">&quot;Today is&quot;</span><span class="p">,</span><span class="n">week</span><span class="p">[</span><span class="n">day_number</span><span class="p">]</span>

<span class="sd">&#39;&#39;&#39;New code: my own work</span>
<span class="sd">   Following the example in the question for E2.2A</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="k">if</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>   <span class="c"># Monday</span>
    <span class="k">print</span> <span class="s">&#39;Spend the day learning Python&#39;</span>
<span class="k">elif</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="c"># Tuesday</span>
    <span class="k">print</span> <span class="s">&#39;Spend the day learning Python&#39;</span>
<span class="k">elif</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span> <span class="c"># Wednesday</span>
    <span class="k">print</span> <span class="s">&#39;Go to Python class&#39;</span>
<span class="k">elif</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span> <span class="c"># Thursday</span>
    <span class="k">print</span> <span class="s">&#39;Spend the day learning Python&#39;</span>
<span class="k">elif</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span> <span class="c"># Friday</span>
    <span class="k">print</span> <span class="s">&#39;Spend the day learning Python&#39;</span>
<span class="k">elif</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span> <span class="c"># Saturday</span>
    <span class="k">print</span> <span class="s">&#39;Spend the day learning Python&#39;</span>
<span class="k">elif</span> <span class="n">day_number</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span> <span class="c"># Sunday</span>
    <span class="k">print</span> <span class="s">&#39;Spend the day learning Python&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;get some sleep&quot;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Today is Tuesday
Spend the day learning Python
</pre></div>
</div>
<p>You should see from this that this is a rather awkward way to set up
something of this nature, and it is prone to error in typing (you could
easily miss a day out or type something else wrong).</p>
<div class="section" id="b">
<h3>B.<a class="headerlink" href="#b" title="Permalink to this headline">¶</a></h3>
<p>You could set up the basic calendar for the week in a list, with the
first entry representing Monday, the second Tuesday etc.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">my_diary</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Spend the day practicing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Spend the day practicing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Do some reading in the library at UCL&#39;</span><span class="p">,</span> \
            <span class="s">&#39;Remember to wake up early to get to the Python class at UCL&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Spend the day practicing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Remember to wake up early to go to classes at Imperial College&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Work at Python exercises from home&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Work at Python exercises from home&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Using a list of this sort, <strong>print the diary entry for today *without*
using conditional statements.</strong></p>
<p>Criticise the code you develop and make suggestions for improvement.</p>
<div class="section" id="answer">
<h4>Answer<a class="headerlink" href="#answer" title="Permalink to this headline">¶</a></h4>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Exercise 2.2B Scientific Computing</span>

<span class="sd">    Mon  7 Oct 2013 10:43:38 BST</span>

<span class="sd">    P. Lewis : p.lewis@ucl.ac.uk</span>

<span class="sd">    This code prints a diary for today.</span>

<span class="sd">&#39;&#39;&#39;</span>

<span class="sd">&#39;&#39;&#39;The following code block is taken verbatim from</span>
<span class="sd">   The Scientific Computing notes</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="c"># This imports a module that we can use to access dates</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c"># set up a list of days of the week, starting Monday</span>
<span class="c"># Note the line continuation here with \</span>
<span class="n">week</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Monday&#39;</span><span class="p">,</span><span class="s">&#39;Tuesday&#39;</span><span class="p">,</span><span class="s">&#39;Wednesday&#39;</span><span class="p">,</span><span class="s">&#39;Thursday&#39;</span><span class="p">,</span>\
        <span class="s">&#39;Friday&#39;</span><span class="p">,</span><span class="s">&#39;Saturday&#39;</span><span class="p">,</span><span class="s">&#39;Sunday&#39;</span><span class="p">]</span>

<span class="c"># This part gives the day of the week</span>
<span class="c"># as an integer, 0 -&gt; Monday, 1 -&gt; Tuesday etc.</span>
<span class="n">day_number</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>

<span class="sd">&#39;&#39;&#39;New code: my own work</span>
<span class="sd">   Following the example in the question for E2.2B</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="n">my_diary</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;spend the day doing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;do some reading in the library at UCL&#39;</span><span class="p">,</span> \
            <span class="s">&#39;remember to wake up early to get to the Python class at UCL&#39;</span><span class="p">,</span>\
            <span class="s">&#39;spend the day doing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;remember to wake up early to go to classes at Imperial College&#39;</span><span class="p">,</span>\
            <span class="s">&#39;work at Python exercises from home&#39;</span><span class="p">,</span>\
            <span class="s">&#39;work at Python exercises from home&#39;</span><span class="p">]</span>


<span class="k">print</span> <span class="s">&quot;Today is&quot;</span><span class="p">,</span><span class="n">week</span><span class="p">[</span><span class="n">day_number</span><span class="p">],</span><span class="s">&#39;so&#39;</span><span class="p">,</span><span class="n">my_diary</span><span class="p">[</span><span class="n">day_number</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Today is Tuesday so do some reading in the library at UCL
</pre></div>
</div>
<p>This is a bit better, but it&#8217;s still too easy to get the entries in the
list wrong, or get confused that Monday is day 0, so we would typically
use a dictionary (<tt class="docutils literal"><span class="pre">dict</span></tt>) for something of this nature.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Exercise 2.2B Scientific Computing</span>

<span class="sd">    Mon  7 Oct 2013 10:43:38 BST</span>

<span class="sd">    P. Lewis : p.lewis@ucl.ac.uk</span>

<span class="sd">    This code prints a diary for today.</span>

<span class="sd">&#39;&#39;&#39;</span>

<span class="sd">&#39;&#39;&#39;The following code block is taken verbatim from</span>
<span class="sd">   The Scientific Computing notes</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="c"># This imports a module that we can use to access dates</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c"># This part gives the day of the week</span>
<span class="c"># as an integer, 0 -&gt; Monday, 1 -&gt; Tuesday etc.</span>
<span class="n">day_number</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>

<span class="sd">&#39;&#39;&#39;New code: my own work</span>
<span class="sd">   Following the example in the question for E2.2B</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="n">week</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">&#39;Monday&#39;</span><span class="p">,</span>\
        <span class="mi">1</span><span class="p">:</span> <span class="s">&#39;Tuesday&#39;</span><span class="p">,</span>\
        <span class="mi">2</span><span class="p">:</span> <span class="s">&#39;Wednesday&#39;</span><span class="p">,</span>\
        <span class="mi">3</span><span class="p">:</span> <span class="s">&#39;Thursday&#39;</span><span class="p">,</span>\
        <span class="mi">4</span><span class="p">:</span> <span class="s">&#39;Friday&#39;</span><span class="p">,</span>\
        <span class="mi">5</span><span class="p">:</span> <span class="s">&#39;Saturday&#39;</span><span class="p">,</span>\
        <span class="mi">6</span><span class="p">:</span> <span class="s">&#39;Sunday&#39;</span><span class="p">}</span>


<span class="n">my_diary</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;Monday&#39;</span><span class="p">:</span>    <span class="s">&#39;spend the day doing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Tuesday&#39;</span><span class="p">:</span>   <span class="s">&#39;do some reading in the library at UCL&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Wednesday&#39;</span><span class="p">:</span> <span class="s">&#39;remember to wake up early to get to the Python class at UCL&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Thursday&#39;</span><span class="p">:</span>  <span class="s">&#39;spend the day doing Python&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Friday&#39;</span><span class="p">:</span>    <span class="s">&#39;remember to wake up early to go to classes at Imperial College&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Saturday&#39;</span><span class="p">:</span>  <span class="s">&#39;work at Python exercises from home&#39;</span><span class="p">,</span>\
            <span class="s">&#39;Sunday&#39;</span><span class="p">:</span>    <span class="s">&#39;work at Python exercises from home&#39;</span><span class="p">}</span>

<span class="n">today</span> <span class="o">=</span> <span class="n">week</span><span class="p">[</span><span class="n">day_number</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;Today is&quot;</span><span class="p">,</span><span class="n">today</span><span class="p">,</span><span class="s">&#39;so&#39;</span><span class="p">,</span><span class="n">my_diary</span><span class="p">[</span><span class="n">today</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Today is Tuesday so do some reading in the library at UCL
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-2-3">
<h2>Exercise 2.3<a class="headerlink" href="#exercise-2-3" title="Permalink to this headline">¶</a></h2>
<p>The data below are fields of:</p>
<div class="line-block">
<div class="line">0 year</div>
<div class="line">1 month</div>
<div class="line">2 tmax (degC)</div>
<div class="line">3 tmin (degC)</div>
<div class="line">4 air frost (days)</div>
<div class="line">5 rain (mm)</div>
<div class="line">6 sun (hours)</div>
</div>
<p>for Lowestoft in the UK for the year 2012, taken from <a class="reference external" href="http://www.metoffice.gov.uk/climate/uk/stationdata/lowestoftdata.txt">Met Office
data</a>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;   2012   1    8.7    3.1      5   33.1   53.9</span>
<span class="s">   2012   2    7.1    1.6     13   13.8   86.6</span>
<span class="s">   2012   3   11.3    3.7      2   64.2  141.3</span>
<span class="s">   2012   4   10.9    4.3      3  108.9  151.1</span>
<span class="s">   2012   5   15.1    8.6      0   46.6  171.3</span>
<span class="s">   2012   6   17.9   10.9      0   74.4  189.0</span>
<span class="s">   2012   7   20.3   12.8      0   93.6  206.9</span>
<span class="s">   2012   8   22.0   14.0      0   59.6  217.3</span>
<span class="s">   2012   9   18.9    9.5      0   38.8  200.8</span>
<span class="s">   2012  10   13.6    7.9      0   92.7   94.7</span>
<span class="s">   2012  11   10.5    4.4      2   62.1   79.6</span>
<span class="s">   2012  12    7.9    2.4      8   95.6   41.9  &quot;&quot;&quot;</span>

<span class="k">print</span> <span class="n">data</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>2012   1    8.7    3.1      5   33.1   53.9
2012   2    7.1    1.6     13   13.8   86.6
2012   3   11.3    3.7      2   64.2  141.3
2012   4   10.9    4.3      3  108.9  151.1
2012   5   15.1    8.6      0   46.6  171.3
2012   6   17.9   10.9      0   74.4  189.0
2012   7   20.3   12.8      0   93.6  206.9
2012   8   22.0   14.0      0   59.6  217.3
2012   9   18.9    9.5      0   38.8  200.8
2012  10   13.6    7.9      0   92.7   94.7
2012  11   10.5    4.4      2   62.1   79.6
2012  12    7.9    2.4      8   95.6   41.9
</pre></div>
</div>
<p>You can use the Python package <tt class="docutils literal"><span class="pre">pylab</span></tt> to simply plot data on a graph:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># import the pylab module</span>
<span class="kn">import</span> <span class="nn">pylab</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="c"># some e.g. x and y data</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">**</span><span class="mf">0.5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Plot of sqrt(x)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;matplotlib.text.Text at 0x105ccccd0&gt;
</pre></div>
</div>
<img alt="../_images/main_answers_29_1.png" src="../_images/main_answers_29_1.png" />
<p><strong>Produce a plot of the number of sunshine hours for Lowestoft for the
year 2012</strong> using the data given above.</p>
<p>Hint: the data have newline chcracters <tt class="docutils literal"><span class="pre">\n</span></tt> at the end of each line of
data, and are separated by white space withion each line.</p>
</div>
<div class="section" id="answer-2-3">
<h2>Answer 2.3<a class="headerlink" href="#answer-2-3" title="Permalink to this headline">¶</a></h2>
<p>First, we need to split the string <tt class="docutils literal"><span class="pre">data</span></tt> by newline (<tt class="docutils literal"><span class="pre">\n</span></tt>) to give
a list of lines:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">ldata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="n">ldata</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;   2012   1    8.7    3.1      5   33.1   53.9&#39;</span><span class="p">,</span> <span class="s">&#39;   2012   2    7.1    1.6     13   13.8   86.6&#39;</span><span class="p">,</span> <span class="s">&#39;   2012   3   11.3    3.7      2   64.2  141.3&#39;</span><span class="p">,</span> <span class="s">&#39;   2012   4   10.9    4.3      3  108.9  151.1&#39;</span><span class="p">,</span> <span class="s">&#39;   2012   5   15.1    8.6      0   46.6  171.3&#39;</span><span class="p">,</span> <span class="s">&#39;   2012   6   17.9   10.9      0   74.4  189.0&#39;</span><span class="p">,</span> <span class="s">&#39;   2012   7   20.3   12.8      0   93.6  206.9&#39;</span><span class="p">,</span> <span class="s">&#39;   2012   8   22.0   14.0      0   59.6  217.3&#39;</span><span class="p">,</span> <span class="s">&#39;   2012   9   18.9    9.5      0   38.8  200.8&#39;</span><span class="p">,</span> <span class="s">&#39;   2012  10   13.6    7.9      0   92.7   94.7&#39;</span><span class="p">,</span> <span class="s">&#39;   2012  11   10.5    4.4      2   62.1   79.6  &#39;</span><span class="p">,</span> <span class="s">&#39;   2012  12    7.9    2.4      8   95.6   41.9  &#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Next, we need to loop over each line and split by whitespace.</p>
<p>This will involve something like:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># example using first line</span>
<span class="n">this_line</span> <span class="o">=</span> <span class="n">ldata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">items</span> <span class="o">=</span> <span class="n">this_line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="k">print</span> <span class="n">items</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;2012&#39;</span><span class="p">,</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;8.7&#39;</span><span class="p">,</span> <span class="s">&#39;3.1&#39;</span><span class="p">,</span> <span class="s">&#39;5&#39;</span><span class="p">,</span> <span class="s">&#39;33.1&#39;</span><span class="p">,</span> <span class="s">&#39;53.9&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">ldata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

<span class="c"># set empty lists to put the data in</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">this_line</span> <span class="ow">in</span> <span class="n">ldata</span><span class="p">:</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">this_line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="c"># convert from string to float</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="c"># the month</span>
    <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">6</span><span class="p">]))</span> <span class="c"># sunshine hrs</span>

<span class="k">print</span> <span class="n">x</span>
<span class="k">print</span> <span class="n">y</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">]</span>
<span class="p">[</span><span class="mf">53.9</span><span class="p">,</span> <span class="mf">86.6</span><span class="p">,</span> <span class="mf">141.3</span><span class="p">,</span> <span class="mf">151.1</span><span class="p">,</span> <span class="mf">171.3</span><span class="p">,</span> <span class="mf">189.0</span><span class="p">,</span> <span class="mf">206.9</span><span class="p">,</span> <span class="mf">217.3</span><span class="p">,</span> <span class="mf">200.8</span><span class="p">,</span> <span class="mf">94.7</span><span class="p">,</span> <span class="mf">79.6</span><span class="p">,</span> <span class="mf">41.9</span><span class="p">]</span>
</pre></div>
</div>
<p>Now we just need to plot it:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># import the pylab module</span>
<span class="kn">import</span> <span class="nn">pylab</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;month of 2012&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Sunshine hours&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Sunshine hours for Lowestoft, UK, 2012&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;matplotlib.text.Text at 0x106102c10&gt;
</pre></div>
</div>
<img alt="../_images/main_answers_38_1.png" src="../_images/main_answers_38_1.png" />
<p>We could make it a bit more compact and general, but if you do, make
sure it is still easily readable.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pylab</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">items</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> \
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">j</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span> \
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)]</span>

<span class="c"># get specific columns from items</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>

<span class="c"># bigger graph if we want</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;month of 2012&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Sunshine hours&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Sunshine hours for Lowestoft, UK, 2012&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;matplotlib.text.Text at 0x1061ac150&gt;
</pre></div>
</div>
<img alt="../_images/main_answers_40_1.png" src="../_images/main_answers_40_1.png" />
<p>You <em>might think</em> that labelling with the month name would be nicer.</p>
<p>Thats quite a bit more complicated, but we&#8217;ll put it in here anyway for
future reference:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pylab</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">items</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> \
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">j</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span> \
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)]</span>

<span class="c"># get specific columns from items</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>

<span class="n">months</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Jan&quot;</span><span class="p">,</span> <span class="s">&quot;Feb&quot;</span><span class="p">,</span> <span class="s">&quot;Mar&quot;</span><span class="p">,</span> <span class="s">&quot;Apr&quot;</span><span class="p">,</span> \
    <span class="s">&quot;May&quot;</span><span class="p">,</span> <span class="s">&quot;Jun&quot;</span><span class="p">,</span> <span class="s">&quot;Jul&quot;</span><span class="p">,</span> <span class="s">&quot;Aug&quot;</span><span class="p">,</span> <span class="s">&quot;Sep&quot;</span><span class="p">,</span> <span class="s">&quot;Oct&quot;</span><span class="p">,</span> <span class="s">&quot;Nov&quot;</span><span class="p">,</span> <span class="s">&quot;Dec&quot;</span> <span class="p">]</span>

<span class="c"># need access to ax to mess with xticks</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>

<span class="c"># lots of hassle to do this sort of thing ...</span>
<span class="c"># but it is possible</span>
<span class="c">#</span>
<span class="c"># first set the limits to be the</span>
<span class="c"># same as x</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="c"># then set the xticks to the values of x</span>
<span class="c"># to make sure there are 12 of them</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c"># then replace these by the months</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">months</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;month of 2012&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Sunshine hours&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Sunshine hours for Lowestoft, UK, 2012&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;matplotlib.text.Text at 0x106489450&gt;
</pre></div>
</div>
<img alt="../_images/main_answers_42_1.png" src="../_images/main_answers_42_1.png" />
</div>
<div class="section" id="exercise-2-4">
<h2>Exercise 2.4<a class="headerlink" href="#exercise-2-4" title="Permalink to this headline">¶</a></h2>
<p>The text file
<a class="reference external" href="files/data/modis_files.txt">files/data/modis_files.txt</a> contains a
listing of hdf format files that are in the directory
<tt class="docutils literal"><span class="pre">/data/geospatial_19/ucfajlg/fire/Angola/MOD09</span></tt> on the UCL Geography
system. The contents of the file looks like (first 10 lines):</p>
<div class="code python highlight-python"><div class="highlight"><pre>!head -10 &lt; files/data/modis_files.txt
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004001.h19v10.005.2008109063923.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004002.h19v10.005.2008108084250.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004003.h19v10.005.2008108054126.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004004.h19v10.005.2008108112322.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004005.h19v10.005.2008108173219.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004006.h19v10.005.2008108214033.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004007.h19v10.005.2008109081257.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004008.h19v10.005.2008109111447.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004009.h19v10.005.2008109211421.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004010.h19v10.005.2008110031925.hdf
</pre></div>
</div>
<p>Your task is to create a new file <tt class="docutils literal"><span class="pre">files/data/some_modis_files.txt</span></tt>
that contains <em>only</em> the file names for the month of August.</p>
<p>You will notice that the file names have a field in them such as
<tt class="docutils literal"><span class="pre">A2004006</span></tt>. This is the one you will need to concentrate on, as it
specifies the year (<tt class="docutils literal"><span class="pre">2004</span></tt> here) and the day of year (<tt class="docutils literal"><span class="pre">doy</span></tt>),
(<tt class="docutils literal"><span class="pre">006</span></tt> in this example).</p>
<p>There are various ways to find the day of year for a particular month /
year, e,g, look on a
<a class="reference external" href="http://www.soils.wisc.edu/cgi-bin/asig/doyCal.rb">website</a>.</p>
</div>
<div class="section" id="answer-2-4">
<h2>Answer 2.4<a class="headerlink" href="#answer-2-4" title="Permalink to this headline">¶</a></h2>
<p>First then, find out which day of year range you want.</p>
<p>August 2004 was doy 214 to 244 inclusive, so in python:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="nb">range</span><span class="p">(</span><span class="mi">214</span><span class="p">,</span><span class="mi">245</span><span class="p">)</span>
</pre></div>
</div>
<p>We should know how to read data from files from the material above.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># ls /data/geospatial_19/ucfajlg/fire/Angola/MOD09/*.hdf &gt; /tmp/modis_files.txt</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;files/data/modis_files.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="k">print</span> <span class="n">line</span>
    <span class="k">break</span>   <span class="c"># break in here just so it doesnt print too much</span>
            <span class="c"># dont put that in your code !!!</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004001.h19v10.005.2008109063923.hdf
</pre></div>
</div>
<p>we have the filename e.g.</p>
<p><tt class="docutils literal"><span class="pre">/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004001.h19v10.005.2008109063923.hdf</span></tt></p>
<p>in the variable <tt class="docutils literal"><span class="pre">line</span></tt>.</p>
<p>Now we want to split this to find the filename, which will be the last
element (-1):</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># split the string on &#39;/&#39;, the file separator</span>
<span class="n">aline</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">aline</span>
</pre></div>
</div>
<pre class="literal-block">
['', 'data', 'geospatial_19', 'ucfajlg', 'fire', 'Angola', 'MOD09', 'MOD09GA.A2004001.h19v10.005.2008109063923.hdfn']
</pre>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># and all we want is the last item:</span>

<span class="n">fname</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="k">print</span> <span class="n">fname</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>MOD09GA.A2004001.h19v10.005.2008109063923.hdf
</pre></div>
</div>
<p>Now we need to split this up, with <tt class="docutils literal"><span class="pre">.</span></tt> (dot) as the separator, and get
the second item:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fname</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">fbits</span> <span class="o">=</span> <span class="n">fname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">fbits</span>

<span class="n">datebit</span> <span class="o">=</span> <span class="n">fbits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="k">print</span> <span class="n">datebit</span>
</pre></div>
</div>
<pre class="literal-block">
['MOD09GA', 'A2004001', 'h19v10', '005', '2008109063923', 'hdfn']
A2004001
</pre>
<p>The day of year is the last 3 elements of this string:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datebit</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>

<span class="k">print</span> <span class="n">doy</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mi">1</span>
</pre></div>
</div>
<p>And check to see if doy is in the required range:</p>
<p>Putting this together:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">date_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">214</span><span class="p">,</span><span class="mi">245</span><span class="p">)</span>

<span class="c"># ls /data/geospatial_19/ucfajlg/fire/Angola/MOD09/*.hdf &gt; /tmp/modis_files.txt</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;files/data/modis_files.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fbits</span> <span class="o">=</span> <span class="n">fname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
    <span class="n">datebit</span> <span class="o">=</span> <span class="n">fbits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datebit</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
    <span class="k">if</span> <span class="n">doy</span> <span class="ow">in</span> <span class="n">date_range</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">line</span>
        <span class="k">break</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004214.h19v10.005.2010052095834.hdf
</pre></div>
</div>
<p>Now put in the part that writes it to a file:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">ifile</span> <span class="o">=</span> <span class="s">&#39;files/data/modis_files.txt&#39;</span>
<span class="n">ofile</span> <span class="o">=</span> <span class="s">&#39;files/data/some_modis_files.txt&#39;</span>

<span class="n">ifp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ifile</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="n">ofp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ofile</span><span class="p">,</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">ifp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fbits</span> <span class="o">=</span> <span class="n">fname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
    <span class="n">datebit</span> <span class="o">=</span> <span class="n">fbits</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">datebit</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
    <span class="k">if</span> <span class="n">doy</span> <span class="ow">in</span> <span class="n">date_range</span><span class="p">:</span>
        <span class="n">ofp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="n">ifp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">ofp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># or in a more compressed form</span>

<span class="n">ifile</span> <span class="o">=</span> <span class="s">&#39;files/data/modis_files.txt&#39;</span>
<span class="n">ofile</span> <span class="o">=</span> <span class="s">&#39;files/data/some_modis_files.txt&#39;</span>

<span class="n">ifp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ifile</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="n">ofp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ofile</span><span class="p">,</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">ifp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
    <span class="k">if</span> <span class="n">doy</span> <span class="ow">in</span> <span class="n">date_range</span><span class="p">:</span>
        <span class="n">ofp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="n">ifp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">ofp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>check from unix:</p>
<div class="code python highlight-python"><div class="highlight"><pre>!head -1 &lt; files/data/some_modis_files.txt
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004214.h19v10.005.2010052095834.hdf
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre>!tail -1 &lt; files/data/some_modis_files.txt
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/data/geospatial_19/ucfajlg/fire/Angola/MOD09/MOD09GA.A2004244.h19v10.005.2008256095130.hdf
</pre></div>
</div>
</div>
<div class="section" id="exercise-2-5">
<h2>Exercise 2.5<a class="headerlink" href="#exercise-2-5" title="Permalink to this headline">¶</a></h2>
<p>We want to calculate the <strong>maximum</strong> monthly precipitation for regions
of the UK for all years in the 20th Century.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># specify filename</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;files/data/HadSEEP_monthly_qc.txt&#39;</span>

<span class="c"># read the data, chop off first 4 lines</span>
<span class="c"># and store in required_data</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="n">raw_data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">required_data</span> <span class="o">=</span> <span class="n">raw_data</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>

<span class="c"># set up list to store data in</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>


<span class="c"># loop over each line</span>
<span class="k">for</span> <span class="n">line_data</span> <span class="ow">in</span> <span class="n">required_data</span><span class="p">:</span>
    <span class="c"># split on white space</span>
    <span class="n">year_data</span> <span class="o">=</span> <span class="n">line_data</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="c"># convert data to float</span>
    <span class="k">for</span> <span class="n">column</span><span class="p">,</span><span class="n">this_element</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">year_data</span><span class="p">):</span>
        <span class="n">year_data</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">this_element</span><span class="p">)</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">year_data</span><span class="p">)</span>


<span class="c"># select years</span>
<span class="n">c20_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1900</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">2000</span><span class="p">):</span>
        <span class="n">c20_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="c"># Aside: show which month that was</span>
<span class="n">month_names</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&quot;Jan&quot;</span><span class="p">,</span> <span class="s">&quot;Feb&quot;</span><span class="p">,</span> <span class="s">&quot;Mar&quot;</span><span class="p">,</span> <span class="s">&quot;Apr&quot;</span><span class="p">,</span> \
    <span class="s">&quot;May&quot;</span><span class="p">,</span> <span class="s">&quot;Jun&quot;</span><span class="p">,</span> <span class="s">&quot;Jul&quot;</span><span class="p">,</span> <span class="s">&quot;Aug&quot;</span><span class="p">,</span> <span class="s">&quot;Sep&quot;</span><span class="p">,</span> <span class="s">&quot;Oct&quot;</span><span class="p">,</span> <span class="s">&quot;Nov&quot;</span><span class="p">,</span> <span class="s">&quot;Dec&quot;</span> <span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;In South East England&quot;</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">year</span> <span class="o">=</span> <span class="mi">1900</span> <span class="o">+</span> <span class="n">row</span>
    <span class="n">max_precip</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">c20_data</span><span class="p">[</span><span class="n">row</span><span class="p">])</span>
    <span class="n">month</span> <span class="o">=</span> <span class="n">c20_data</span><span class="p">[</span><span class="n">row</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">max_precip</span><span class="p">)</span>

    <span class="k">print</span> <span class="s">&quot;In the year&quot;</span><span class="p">,</span><span class="n">year</span><span class="p">,</span><span class="s">&quot;the rainiest month was&quot;</span><span class="p">,</span><span class="n">month_names</span><span class="p">[</span><span class="n">month</span><span class="p">],</span><span class="s">&quot;with&quot;</span><span class="p">,</span><span class="n">max_precip</span><span class="p">,</span><span class="s">&quot;mm&quot;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>In South East England
In the year 1900 the rainiest month was Feb with 125.9 mm
In the year 1901 the rainiest month was Dec with 98.7 mm
In the year 1902 the rainiest month was Aug with 97.2 mm
In the year 1903 the rainiest month was Oct with 188.4 mm
In the year 1904 the rainiest month was Jan with 96.0 mm
In the year 1905 the rainiest month was Jun with 104.5 mm
In the year 1906 the rainiest month was Jan with 127.3 mm
In the year 1907 the rainiest month was Oct with 129.5 mm
In the year 1908 the rainiest month was Aug with 83.8 mm
In the year 1909 the rainiest month was Oct with 143.9 mm
In the year 1910 the rainiest month was Dec with 119.4 mm
In the year 1911 the rainiest month was Dec with 153.6 mm
In the year 1912 the rainiest month was Aug with 151.6 mm
In the year 1913 the rainiest month was Oct with 106.5 mm
In the year 1914 the rainiest month was Dec with 190.2 mm
In the year 1915 the rainiest month was Dec with 163.9 mm
In the year 1916 the rainiest month was Mar with 110.7 mm
In the year 1917 the rainiest month was Aug with 135.1 mm
In the year 1918 the rainiest month was Sep with 151.1 mm
In the year 1919 the rainiest month was Dec with 121.4 mm
In the year 1920 the rainiest month was Jul with 116.9 mm
In the year 1921 the rainiest month was Jan with 70.8 mm
In the year 1922 the rainiest month was Jul with 92.2 mm
In the year 1923 the rainiest month was Oct with 142.5 mm
In the year 1924 the rainiest month was Oct with 110.2 mm
In the year 1925 the rainiest month was Jul with 98.1 mm
In the year 1926 the rainiest month was Nov with 143.8 mm
In the year 1927 the rainiest month was Sep with 138.5 mm
In the year 1928 the rainiest month was Oct with 137.0 mm
In the year 1929 the rainiest month was Nov with 175.6 mm
In the year 1930 the rainiest month was Nov with 121.0 mm
In the year 1931 the rainiest month was Aug with 101.3 mm
In the year 1932 the rainiest month was Oct with 146.4 mm
In the year 1933 the rainiest month was Mar with 74.1 mm
In the year 1934 the rainiest month was Dec with 176.3 mm
In the year 1935 the rainiest month was Nov with 148.2 mm
In the year 1936 the rainiest month was Jan with 112.8 mm
In the year 1937 the rainiest month was Jan with 124.9 mm
In the year 1938 the rainiest month was Nov with 93.6 mm
In the year 1939 the rainiest month was Oct with 154.0 mm
In the year 1940 the rainiest month was Nov with 203.0 mm
In the year 1941 the rainiest month was Aug with 117.3 mm
In the year 1942 the rainiest month was Oct with 94.3 mm
In the year 1943 the rainiest month was Jan with 130.2 mm
In the year 1944 the rainiest month was Nov with 117.0 mm
In the year 1945 the rainiest month was Jul with 103.8 mm
In the year 1946 the rainiest month was Nov with 126.7 mm
In the year 1947 the rainiest month was Mar with 150.7 mm
In the year 1948 the rainiest month was Jan with 125.3 mm
In the year 1949 the rainiest month was Oct with 189.3 mm
In the year 1950 the rainiest month was Nov with 137.9 mm
In the year 1951 the rainiest month was Nov with 161.9 mm
In the year 1952 the rainiest month was Nov with 99.9 mm
In the year 1953 the rainiest month was Jul with 87.5 mm
In the year 1954 the rainiest month was Nov with 131.0 mm
In the year 1955 the rainiest month was May with 110.5 mm
In the year 1956 the rainiest month was Jan with 113.7 mm
In the year 1957 the rainiest month was Feb with 97.7 mm
In the year 1958 the rainiest month was Sep with 107.4 mm
In the year 1959 the rainiest month was Dec with 143.4 mm
In the year 1960 the rainiest month was Oct with 167.0 mm
In the year 1961 the rainiest month was Dec with 102.0 mm
In the year 1962 the rainiest month was Sep with 94.0 mm
In the year 1963 the rainiest month was Nov with 141.0 mm
In the year 1964 the rainiest month was Mar with 97.7 mm
In the year 1965 the rainiest month was Dec with 126.9 mm
In the year 1966 the rainiest month was Oct with 129.1 mm
In the year 1967 the rainiest month was Oct with 126.6 mm
In the year 1968 the rainiest month was Sep with 135.5 mm
In the year 1969 the rainiest month was Nov with 108.4 mm
In the year 1970 the rainiest month was Nov with 186.4 mm
In the year 1971 the rainiest month was Jun with 134.4 mm
In the year 1972 the rainiest month was Dec with 94.0 mm
In the year 1973 the rainiest month was May with 76.6 mm
In the year 1974 the rainiest month was Sep with 164.7 mm
In the year 1975 the rainiest month was Sep with 122.8 mm
In the year 1976 the rainiest month was Oct with 141.5 mm
In the year 1977 the rainiest month was Aug with 132.8 mm
In the year 1978 the rainiest month was Dec with 144.9 mm
In the year 1979 the rainiest month was Dec with 122.6 mm
In the year 1980 the rainiest month was Oct with 110.1 mm
In the year 1981 the rainiest month was Mar with 131.2 mm
In the year 1982 the rainiest month was Oct with 143.0 mm
In the year 1983 the rainiest month was May with 98.5 mm
In the year 1984 the rainiest month was Jan with 112.4 mm
In the year 1985 the rainiest month was Dec with 103.7 mm
In the year 1986 the rainiest month was Jan with 110.1 mm
In the year 1987 the rainiest month was Oct with 198.7 mm
In the year 1988 the rainiest month was Jan with 143.8 mm
In the year 1989 the rainiest month was Dec with 143.8 mm
In the year 1990 the rainiest month was Feb with 122.3 mm
In the year 1991 the rainiest month was Jun with 102.0 mm
In the year 1992 the rainiest month was Nov with 132.8 mm
In the year 1993 the rainiest month was Dec with 133.9 mm
In the year 1994 the rainiest month was Jan with 115.6 mm
In the year 1995 the rainiest month was Jan with 143.1 mm
In the year 1996 the rainiest month was Nov with 122.6 mm
In the year 1997 the rainiest month was Jun with 100.6 mm
In the year 1998 the rainiest month was Oct with 128.1 mm
In the year 1999 the rainiest month was Dec with 109.5 mm
</pre></div>
</div>
<p>That is quite an achievement, given the limited amount of programming
you know so far.</p>
<p>If you go through this though, you will (should) see that it is really
not very efficient.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre>we read all the data in and then filter out the years we want (what if the dataset were huge?)
we loop over the 100 years multiple times
we store intermediate results
</pre></div>
</div>
<p>For this exercise, you should look through the code we developed and try
to make it more efficient.</p>
<p>Efficiency should not override clarity and understanding though, so make
sure you can understand what is going on at each stage.</p>
</div>
<div class="section" id="answer-2-5">
<h2>Answer 2.5<a class="headerlink" href="#answer-2-5" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># specify filename</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;files/data/HadSEEP_monthly_qc.txt&#39;</span>

<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="c"># years range</span>
<span class="n">years</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1900</span><span class="p">,</span><span class="mi">2000</span><span class="p">)</span>

<span class="c"># set up list to store data in</span>
<span class="n">c20_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c"># loop over each line</span>
<span class="k">for</span> <span class="n">line_data</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()[</span><span class="mi">4</span><span class="p">:]:</span>
    <span class="c"># split on white space</span>
    <span class="c"># convert data to float</span>
    <span class="n">year_data</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">line_data</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>

    <span class="k">if</span> <span class="n">year_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
        <span class="n">c20_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">year_data</span><span class="p">)</span>

<span class="c"># Aside: show which month that was</span>
<span class="n">month_names</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&quot;Jan&quot;</span><span class="p">,</span> <span class="s">&quot;Feb&quot;</span><span class="p">,</span> <span class="s">&quot;Mar&quot;</span><span class="p">,</span> <span class="s">&quot;Apr&quot;</span><span class="p">,</span> \
    <span class="s">&quot;May&quot;</span><span class="p">,</span> <span class="s">&quot;Jun&quot;</span><span class="p">,</span> <span class="s">&quot;Jul&quot;</span><span class="p">,</span> <span class="s">&quot;Aug&quot;</span><span class="p">,</span> <span class="s">&quot;Sep&quot;</span><span class="p">,</span> <span class="s">&quot;Oct&quot;</span><span class="p">,</span> <span class="s">&quot;Nov&quot;</span><span class="p">,</span> <span class="s">&quot;Dec&quot;</span> <span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;In South East England&quot;</span>
<span class="k">for</span> <span class="n">row</span><span class="p">,</span><span class="n">year</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">years</span><span class="p">):</span>
    <span class="n">max_precip</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">c20_data</span><span class="p">[</span><span class="n">row</span><span class="p">])</span>
    <span class="n">month</span> <span class="o">=</span> <span class="n">c20_data</span><span class="p">[</span><span class="n">row</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">max_precip</span><span class="p">)</span>

    <span class="k">print</span> <span class="s">&quot;In the year&quot;</span><span class="p">,</span><span class="n">year</span><span class="p">,</span><span class="s">&quot;the rainiest month was&quot;</span><span class="p">,</span><span class="n">month_names</span><span class="p">[</span><span class="n">month</span><span class="p">],</span><span class="s">&quot;with&quot;</span><span class="p">,</span><span class="n">max_precip</span><span class="p">,</span><span class="s">&quot;mm&quot;</span>

<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>In South East England
In the year 1900 the rainiest month was Jan with 1900.0 mm
In the year 1901 the rainiest month was Jan with 1901.0 mm
In the year 1902 the rainiest month was Jan with 1902.0 mm
In the year 1903 the rainiest month was Jan with 1903.0 mm
In the year 1904 the rainiest month was Jan with 1904.0 mm
In the year 1905 the rainiest month was Jan with 1905.0 mm
In the year 1906 the rainiest month was Jan with 1906.0 mm
In the year 1907 the rainiest month was Jan with 1907.0 mm
In the year 1908 the rainiest month was Jan with 1908.0 mm
In the year 1909 the rainiest month was Jan with 1909.0 mm
In the year 1910 the rainiest month was Jan with 1910.0 mm
In the year 1911 the rainiest month was Jan with 1911.0 mm
In the year 1912 the rainiest month was Jan with 1912.0 mm
In the year 1913 the rainiest month was Jan with 1913.0 mm
In the year 1914 the rainiest month was Jan with 1914.0 mm
In the year 1915 the rainiest month was Jan with 1915.0 mm
In the year 1916 the rainiest month was Jan with 1916.0 mm
In the year 1917 the rainiest month was Jan with 1917.0 mm
In the year 1918 the rainiest month was Jan with 1918.0 mm
In the year 1919 the rainiest month was Jan with 1919.0 mm
In the year 1920 the rainiest month was Jan with 1920.0 mm
In the year 1921 the rainiest month was Jan with 1921.0 mm
In the year 1922 the rainiest month was Jan with 1922.0 mm
In the year 1923 the rainiest month was Jan with 1923.0 mm
In the year 1924 the rainiest month was Jan with 1924.0 mm
In the year 1925 the rainiest month was Jan with 1925.0 mm
In the year 1926 the rainiest month was Jan with 1926.0 mm
In the year 1927 the rainiest month was Jan with 1927.0 mm
In the year 1928 the rainiest month was Jan with 1928.0 mm
In the year 1929 the rainiest month was Jan with 1929.0 mm
In the year 1930 the rainiest month was Jan with 1930.0 mm
In the year 1931 the rainiest month was Jan with 1931.0 mm
In the year 1932 the rainiest month was Jan with 1932.0 mm
In the year 1933 the rainiest month was Jan with 1933.0 mm
In the year 1934 the rainiest month was Jan with 1934.0 mm
In the year 1935 the rainiest month was Jan with 1935.0 mm
In the year 1936 the rainiest month was Jan with 1936.0 mm
In the year 1937 the rainiest month was Jan with 1937.0 mm
In the year 1938 the rainiest month was Jan with 1938.0 mm
In the year 1939 the rainiest month was Jan with 1939.0 mm
In the year 1940 the rainiest month was Jan with 1940.0 mm
In the year 1941 the rainiest month was Jan with 1941.0 mm
In the year 1942 the rainiest month was Jan with 1942.0 mm
In the year 1943 the rainiest month was Jan with 1943.0 mm
In the year 1944 the rainiest month was Jan with 1944.0 mm
In the year 1945 the rainiest month was Jan with 1945.0 mm
In the year 1946 the rainiest month was Jan with 1946.0 mm
In the year 1947 the rainiest month was Jan with 1947.0 mm
In the year 1948 the rainiest month was Jan with 1948.0 mm
In the year 1949 the rainiest month was Jan with 1949.0 mm
In the year 1950 the rainiest month was Jan with 1950.0 mm
In the year 1951 the rainiest month was Jan with 1951.0 mm
In the year 1952 the rainiest month was Jan with 1952.0 mm
In the year 1953 the rainiest month was Jan with 1953.0 mm
In the year 1954 the rainiest month was Jan with 1954.0 mm
In the year 1955 the rainiest month was Jan with 1955.0 mm
In the year 1956 the rainiest month was Jan with 1956.0 mm
In the year 1957 the rainiest month was Jan with 1957.0 mm
In the year 1958 the rainiest month was Jan with 1958.0 mm
In the year 1959 the rainiest month was Jan with 1959.0 mm
In the year 1960 the rainiest month was Jan with 1960.0 mm
In the year 1961 the rainiest month was Jan with 1961.0 mm
In the year 1962 the rainiest month was Jan with 1962.0 mm
In the year 1963 the rainiest month was Jan with 1963.0 mm
In the year 1964 the rainiest month was Jan with 1964.0 mm
In the year 1965 the rainiest month was Jan with 1965.0 mm
In the year 1966 the rainiest month was Jan with 1966.0 mm
In the year 1967 the rainiest month was Jan with 1967.0 mm
In the year 1968 the rainiest month was Jan with 1968.0 mm
In the year 1969 the rainiest month was Jan with 1969.0 mm
In the year 1970 the rainiest month was Jan with 1970.0 mm
In the year 1971 the rainiest month was Jan with 1971.0 mm
In the year 1972 the rainiest month was Jan with 1972.0 mm
In the year 1973 the rainiest month was Jan with 1973.0 mm
In the year 1974 the rainiest month was Jan with 1974.0 mm
In the year 1975 the rainiest month was Jan with 1975.0 mm
In the year 1976 the rainiest month was Jan with 1976.0 mm
In the year 1977 the rainiest month was Jan with 1977.0 mm
In the year 1978 the rainiest month was Jan with 1978.0 mm
In the year 1979 the rainiest month was Jan with 1979.0 mm
In the year 1980 the rainiest month was Jan with 1980.0 mm
In the year 1981 the rainiest month was Jan with 1981.0 mm
In the year 1982 the rainiest month was Jan with 1982.0 mm
In the year 1983 the rainiest month was Jan with 1983.0 mm
In the year 1984 the rainiest month was Jan with 1984.0 mm
In the year 1985 the rainiest month was Jan with 1985.0 mm
In the year 1986 the rainiest month was Jan with 1986.0 mm
In the year 1987 the rainiest month was Jan with 1987.0 mm
In the year 1988 the rainiest month was Jan with 1988.0 mm
In the year 1989 the rainiest month was Jan with 1989.0 mm
In the year 1990 the rainiest month was Jan with 1990.0 mm
In the year 1991 the rainiest month was Jan with 1991.0 mm
In the year 1992 the rainiest month was Jan with 1992.0 mm
In the year 1993 the rainiest month was Jan with 1993.0 mm
In the year 1994 the rainiest month was Jan with 1994.0 mm
In the year 1995 the rainiest month was Jan with 1995.0 mm
In the year 1996 the rainiest month was Jan with 1996.0 mm
In the year 1997 the rainiest month was Jan with 1997.0 mm
In the year 1998 the rainiest month was Jan with 1998.0 mm
In the year 1999 the rainiest month was Jan with 1999.0 mm
</pre></div>
</div>
</div>
<div class="section" id="exercise-2-6">
<h2>Exercise 2.6<a class="headerlink" href="#exercise-2-6" title="Permalink to this headline">¶</a></h2>
<p>We want to calculate the long-term average temperature (tmax degC) using
observational data at one or more meteorological stations. Such data are
<a class="reference external" href="http://www.carbonbrief.org/profiles/global-temperatures/">relevant to understanding climate and its
dynamics</a>.</p>
<p>We choose the period 1960 to 1990 (30 years average to even out natural
variability).</p>
<p>We can obtain monthly average data for a number of UK stations from the
<a class="reference external" href="http://www.metoffice.gov.uk/climate/uk/stationdata">UK Met. Office</a>.</p>
<p>Not all station records are complete enough for this calculation, so we
select, for example
<a class="reference external" href="http://www.metoffice.gov.uk/climate/uk/stationdata/heathrowdata.txt">Heathrow</a>.</p>
<p>Just with the Python skills you have learned so far, you should be able
to solve a problem of this nature.</p>
</div>
<div class="section" id="answer-2-6">
<h2>Answer 2.6<a class="headerlink" href="#answer-2-6" title="Permalink to this headline">¶</a></h2>
<p>Before diving into this though, you need to think through <strong>what steps</strong>
you need to go through to achieve your aim?</p>
<p>At a &#8216;high&#8217; level, this could be:</p>
<ol class="arabic simple">
<li>Get hold of the data</li>
<li>Read the data into the computer program</li>
<li>Select which years you want</li>
<li>Average the data for each month over all selected years</li>
<li>Print the results</li>
</ol>
<p>So now we need to think about how to implement these steps.</p>
<p>For the first step, there are many ways you could do this.</p>
<div class="code python highlight-python"><div class="highlight"><pre>!wget -O files/data/heathrowdata.txt http://www.metoffice.gov.uk/climate/uk/stationdata/heathrowdata.txt
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>--2013-10-08 22:25:14--  http://www.metoffice.gov.uk/climate/uk/stationdata/heathrowdata.txt
Resolving www.metoffice.gov.uk... 213.123.84.66, 213.123.84.41
Connecting to www.metoffice.gov.uk|213.123.84.66|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [text/plain]
Saving to: `files/data/heathrowdata.txt&#39;

    [ &lt;=&gt;                                   ] 40,500      --.-K/s   in 0.01s

2013-10-08 22:25:15 (2.75 MB/s) - `files/data/heathrowdata.txt&#39; saved [40500]
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">ifile</span> <span class="o">=</span> <span class="s">&#39;files/data/heathrowdata.txt&#39;</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ifile</span><span class="p">)</span>
<span class="n">raw_data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">raw_data</span> <span class="o">=</span> <span class="n">raw_data</span><span class="p">[</span><span class="mi">7</span><span class="p">:]</span> <span class="c"># Skip headers</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># set up the problem</span>
<span class="n">start_year</span> <span class="o">=</span> <span class="mi">1960</span>
<span class="n">end_year</span> <span class="o">=</span> <span class="mi">1990</span>

<span class="n">tmax</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">raw_data</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">year</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">year</span> <span class="o">&gt;=</span> <span class="n">start_year</span> <span class="ow">and</span> <span class="n">year</span> <span class="o">&lt;</span> <span class="n">end_year</span><span class="p">:</span>
        <span class="n">month</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
        <span class="k">if</span> <span class="n">month</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">tmax</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
        <span class="n">tmax</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span> <span class="p">(</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">))</span>

<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">tmax</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">l</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mf">6.9</span><span class="p">,</span> <span class="mf">7.9</span><span class="p">,</span> <span class="mf">10.2</span><span class="p">,</span> <span class="mf">14.3</span><span class="p">,</span> <span class="mf">18.4</span><span class="p">,</span> <span class="mf">22.1</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">,</span> <span class="mf">20.3</span><span class="p">,</span> <span class="mf">18.5</span><span class="p">,</span> <span class="mf">14.2</span><span class="p">,</span> <span class="mf">11.2</span><span class="p">,</span> <span class="mf">6.9</span><span class="p">]</span>
<span class="p">[</span><span class="mf">6.9</span><span class="p">,</span> <span class="mf">10.3</span><span class="p">,</span> <span class="mf">13.9</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">16.8</span><span class="p">,</span> <span class="mf">21.7</span><span class="p">,</span> <span class="mf">22.1</span><span class="p">,</span> <span class="mf">21.7</span><span class="p">,</span> <span class="mf">20.9</span><span class="p">,</span> <span class="mf">15.6</span><span class="p">,</span> <span class="mf">9.9</span><span class="p">,</span> <span class="mf">6.8</span><span class="p">]</span>
<span class="p">[</span><span class="mf">7.9</span><span class="p">,</span> <span class="mf">7.6</span><span class="p">,</span> <span class="mf">7.4</span><span class="p">,</span> <span class="mf">12.7</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">20.4</span><span class="p">,</span> <span class="mf">20.6</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">17.8</span><span class="p">,</span> <span class="mf">15.7</span><span class="p">,</span> <span class="mf">9.1</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]</span>
<span class="p">[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">,</span> <span class="mf">10.7</span><span class="p">,</span> <span class="mf">13.6</span><span class="p">,</span> <span class="mf">16.0</span><span class="p">,</span> <span class="mf">20.8</span><span class="p">,</span> <span class="mf">21.1</span><span class="p">,</span> <span class="mf">19.8</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">14.8</span><span class="p">,</span> <span class="mf">11.8</span><span class="p">,</span> <span class="mf">5.4</span><span class="p">]</span>
<span class="p">[</span><span class="mf">5.8</span><span class="p">,</span> <span class="mf">7.6</span><span class="p">,</span> <span class="mf">7.6</span><span class="p">,</span> <span class="mf">12.8</span><span class="p">,</span> <span class="mf">19.6</span><span class="p">,</span> <span class="mf">19.3</span><span class="p">,</span> <span class="mf">22.8</span><span class="p">,</span> <span class="mf">22.3</span><span class="p">,</span> <span class="mf">21.1</span><span class="p">,</span> <span class="mf">13.7</span><span class="p">,</span> <span class="mf">11.2</span><span class="p">,</span> <span class="mf">7.1</span><span class="p">]</span>
<span class="p">[</span><span class="mf">6.6</span><span class="p">,</span> <span class="mf">5.9</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">,</span> <span class="mf">13.4</span><span class="p">,</span> <span class="mf">16.8</span><span class="p">,</span> <span class="mf">19.7</span><span class="p">,</span> <span class="mf">19.3</span><span class="p">,</span> <span class="mf">20.8</span><span class="p">,</span> <span class="mf">17.4</span><span class="p">,</span> <span class="mf">16.2</span><span class="p">,</span> <span class="mf">8.4</span><span class="p">,</span> <span class="mf">8.4</span><span class="p">]</span>
<span class="p">[</span><span class="mf">5.3</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">,</span> <span class="mf">10.9</span><span class="p">,</span> <span class="mf">12.2</span><span class="p">,</span> <span class="mf">17.0</span><span class="p">,</span> <span class="mf">21.8</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">,</span> <span class="mf">20.6</span><span class="p">,</span> <span class="mf">19.6</span><span class="p">,</span> <span class="mf">14.7</span><span class="p">,</span> <span class="mf">8.8</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">]</span>
<span class="p">[</span><span class="mf">7.3</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">,</span> <span class="mf">11.6</span><span class="p">,</span> <span class="mf">12.5</span><span class="p">,</span> <span class="mf">15.6</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">,</span> <span class="mf">23.5</span><span class="p">,</span> <span class="mf">21.5</span><span class="p">,</span> <span class="mf">18.5</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">9.7</span><span class="p">,</span> <span class="mf">7.2</span><span class="p">]</span>
<span class="p">[</span><span class="mf">7.2</span><span class="p">,</span> <span class="mf">5.7</span><span class="p">,</span> <span class="mf">11.1</span><span class="p">,</span> <span class="mf">13.7</span><span class="p">,</span> <span class="mf">15.4</span><span class="p">,</span> <span class="mf">20.6</span><span class="p">,</span> <span class="mf">20.7</span><span class="p">,</span> <span class="mf">20.2</span><span class="p">,</span> <span class="mf">18.8</span><span class="p">,</span> <span class="mf">16.5</span><span class="p">,</span> <span class="mf">9.5</span><span class="p">,</span> <span class="mf">5.4</span><span class="p">]</span>
<span class="p">[</span><span class="mf">8.9</span><span class="p">,</span> <span class="mf">4.9</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">13.6</span><span class="p">,</span> <span class="mf">17.1</span><span class="p">,</span> <span class="mf">20.6</span><span class="p">,</span> <span class="mf">23.9</span><span class="p">,</span> <span class="mf">21.8</span><span class="p">,</span> <span class="mf">19.6</span><span class="p">,</span> <span class="mf">18.2</span><span class="p">,</span> <span class="mf">9.6</span><span class="p">,</span> <span class="mf">6.1</span><span class="p">]</span>
<span class="p">[</span><span class="mf">7.1</span><span class="p">,</span> <span class="mf">7.2</span><span class="p">,</span> <span class="mf">8.1</span><span class="p">,</span> <span class="mf">11.4</span><span class="p">,</span> <span class="mf">19.2</span><span class="p">,</span> <span class="mf">23.6</span><span class="p">,</span> <span class="mf">21.3</span><span class="p">,</span> <span class="mf">22.3</span><span class="p">,</span> <span class="mf">20.3</span><span class="p">,</span> <span class="mf">15.7</span><span class="p">,</span> <span class="mf">11.9</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">]</span>
<span class="p">[</span><span class="mf">7.8</span><span class="p">,</span> <span class="mf">8.6</span><span class="p">,</span> <span class="mf">9.1</span><span class="p">,</span> <span class="mf">12.2</span><span class="p">,</span> <span class="mf">18.1</span><span class="p">,</span> <span class="mf">17.8</span><span class="p">,</span> <span class="mf">24.1</span><span class="p">,</span> <span class="mf">21.3</span><span class="p">,</span> <span class="mf">20.7</span><span class="p">,</span> <span class="mf">17.2</span><span class="p">,</span> <span class="mf">10.4</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">]</span>
<span class="p">[</span><span class="mf">6.9</span><span class="p">,</span> <span class="mf">7.9</span><span class="p">,</span> <span class="mf">12.4</span><span class="p">,</span> <span class="mf">12.9</span><span class="p">,</span> <span class="mf">16.0</span><span class="p">,</span> <span class="mf">17.5</span><span class="p">,</span> <span class="mf">22.3</span><span class="p">,</span> <span class="mf">21.8</span><span class="p">,</span> <span class="mf">17.3</span><span class="p">,</span> <span class="mf">15.6</span><span class="p">,</span> <span class="mf">9.9</span><span class="p">,</span> <span class="mf">9.4</span><span class="p">]</span>
<span class="p">[</span><span class="mf">7.3</span><span class="p">,</span> <span class="mf">8.1</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">12.5</span><span class="p">,</span> <span class="mf">16.9</span><span class="p">,</span> <span class="mf">21.9</span><span class="p">,</span> <span class="mf">21.4</span><span class="p">,</span> <span class="mf">23.7</span><span class="p">,</span> <span class="mf">20.7</span><span class="p">,</span> <span class="mf">13.9</span><span class="p">,</span> <span class="mf">10.3</span><span class="p">,</span> <span class="mf">8.6</span><span class="p">]</span>
<span class="p">[</span><span class="mf">9.6</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">,</span> <span class="mf">10.3</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">17.0</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">,</span> <span class="mf">20.9</span><span class="p">,</span> <span class="mf">21.5</span><span class="p">,</span> <span class="mf">17.5</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">10.6</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">]</span>
<span class="p">[</span><span class="mf">10.3</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">,</span> <span class="mf">8.4</span><span class="p">,</span> <span class="mf">13.3</span><span class="p">,</span> <span class="mf">15.1</span><span class="p">,</span> <span class="mf">21.8</span><span class="p">,</span> <span class="mf">24.1</span><span class="p">,</span> <span class="mf">25.9</span><span class="p">,</span> <span class="mf">19.5</span><span class="p">,</span> <span class="mf">14.4</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mf">7.6</span><span class="p">]</span>
<span class="p">[</span><span class="mf">8.8</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">,</span> <span class="mf">9.5</span><span class="p">,</span> <span class="mf">13.7</span><span class="p">,</span> <span class="mf">19.3</span><span class="p">,</span> <span class="mf">25.5</span><span class="p">,</span> <span class="mf">26.6</span><span class="p">,</span> <span class="mf">25.1</span><span class="p">,</span> <span class="mf">19.0</span><span class="p">,</span> <span class="mf">14.9</span><span class="p">,</span> <span class="mf">9.9</span><span class="p">,</span> <span class="mf">5.6</span><span class="p">]</span>
<span class="p">[</span><span class="mf">6.1</span><span class="p">,</span> <span class="mf">9.6</span><span class="p">,</span> <span class="mf">11.2</span><span class="p">,</span> <span class="mf">12.2</span><span class="p">,</span> <span class="mf">16.4</span><span class="p">,</span> <span class="mf">17.4</span><span class="p">,</span> <span class="mf">22.4</span><span class="p">,</span> <span class="mf">20.3</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">16.3</span><span class="p">,</span> <span class="mf">10.4</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">]</span>
<span class="p">[</span><span class="mf">6.7</span><span class="p">,</span> <span class="mf">6.2</span><span class="p">,</span> <span class="mf">11.3</span><span class="p">,</span> <span class="mf">10.7</span><span class="p">,</span> <span class="mf">17.2</span><span class="p">,</span> <span class="mf">19.7</span><span class="p">,</span> <span class="mf">20.5</span><span class="p">,</span> <span class="mf">20.7</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">,</span> <span class="mf">17.1</span><span class="p">,</span> <span class="mf">12.6</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">]</span>
<span class="p">[</span><span class="mf">3.8</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">,</span> <span class="mf">12.7</span><span class="p">,</span> <span class="mf">15.9</span><span class="p">,</span> <span class="mf">19.0</span><span class="p">,</span> <span class="mf">22.5</span><span class="p">,</span> <span class="mf">21.0</span><span class="p">,</span> <span class="mf">19.6</span><span class="p">,</span> <span class="mf">16.4</span><span class="p">,</span> <span class="mf">10.8</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">]</span>
<span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">9.9</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">17.3</span><span class="p">,</span> <span class="mf">19.8</span><span class="p">,</span> <span class="mf">19.7</span><span class="p">,</span> <span class="mf">21.9</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">,</span> <span class="mf">8.9</span><span class="p">]</span>
<span class="p">[</span><span class="mf">8.1</span><span class="p">,</span> <span class="mf">7.1</span><span class="p">,</span> <span class="mf">11.8</span><span class="p">,</span> <span class="mf">12.9</span><span class="p">,</span> <span class="mf">16.1</span><span class="p">,</span> <span class="mf">18.5</span><span class="p">,</span> <span class="mf">22.0</span><span class="p">,</span> <span class="mf">22.8</span><span class="p">,</span> <span class="mf">20.3</span><span class="p">,</span> <span class="mf">12.9</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">4.4</span><span class="p">]</span>
<span class="p">[</span><span class="mf">6.9</span><span class="p">,</span> <span class="mf">8.4</span><span class="p">,</span> <span class="mf">11.1</span><span class="p">,</span> <span class="mf">14.3</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">21.5</span><span class="p">,</span> <span class="mf">22.7</span><span class="p">,</span> <span class="mf">22.2</span><span class="p">,</span> <span class="mf">20.8</span><span class="p">,</span> <span class="mf">14.1</span><span class="p">,</span> <span class="mf">11.4</span><span class="p">,</span> <span class="mf">8.2</span><span class="p">]</span>
<span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="mf">10.8</span><span class="p">,</span> <span class="mf">12.4</span><span class="p">,</span> <span class="mf">15.6</span><span class="p">,</span> <span class="mf">20.8</span><span class="p">,</span> <span class="mf">27.6</span><span class="p">,</span> <span class="mf">24.5</span><span class="p">,</span> <span class="mf">19.3</span><span class="p">,</span> <span class="mf">15.1</span><span class="p">,</span> <span class="mf">11.3</span><span class="p">,</span> <span class="mf">9.2</span><span class="p">]</span>
<span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.4</span><span class="p">,</span> <span class="mf">8.9</span><span class="p">,</span> <span class="mf">14.6</span><span class="p">,</span> <span class="mf">14.9</span><span class="p">,</span> <span class="mf">21.3</span><span class="p">,</span> <span class="mf">24.2</span><span class="p">,</span> <span class="mf">24.4</span><span class="p">,</span> <span class="mf">18.6</span><span class="p">,</span> <span class="mf">15.8</span><span class="p">,</span> <span class="mf">12.2</span><span class="p">,</span> <span class="mf">8.7</span><span class="p">]</span>
<span class="p">[</span><span class="mf">4.1</span><span class="p">,</span> <span class="mf">6.3</span><span class="p">,</span> <span class="mf">9.4</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">16.4</span><span class="p">,</span> <span class="mf">18.5</span><span class="p">,</span> <span class="mf">22.9</span><span class="p">,</span> <span class="mf">20.3</span><span class="p">,</span> <span class="mf">20.6</span><span class="p">,</span> <span class="mf">16.1</span><span class="p">,</span> <span class="mf">8.1</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">]</span>
<span class="p">[</span><span class="mf">7.2</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mf">10.9</span><span class="p">,</span> <span class="mf">16.3</span><span class="p">,</span> <span class="mf">21.8</span><span class="p">,</span> <span class="mf">22.6</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">17.4</span><span class="p">,</span> <span class="mf">16.4</span><span class="p">,</span> <span class="mf">12.1</span><span class="p">,</span> <span class="mf">9.7</span><span class="p">]</span>
<span class="p">[</span><span class="mf">3.6</span><span class="p">,</span> <span class="mf">7.7</span><span class="p">,</span> <span class="mf">8.5</span><span class="p">,</span> <span class="mf">15.8</span><span class="p">,</span> <span class="mf">16.3</span><span class="p">,</span> <span class="mf">18.6</span><span class="p">,</span> <span class="mf">21.8</span><span class="p">,</span> <span class="mf">21.8</span><span class="p">,</span> <span class="mf">19.3</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">9.8</span><span class="p">,</span> <span class="mf">8.9</span><span class="p">]</span>
<span class="p">[</span><span class="mf">8.8</span><span class="p">,</span> <span class="mf">8.7</span><span class="p">,</span> <span class="mf">10.7</span><span class="p">,</span> <span class="mf">13.5</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">19.7</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">21.8</span><span class="p">,</span> <span class="mf">18.8</span><span class="p">,</span> <span class="mf">15.5</span><span class="p">,</span> <span class="mf">9.9</span><span class="p">,</span> <span class="mf">10.4</span><span class="p">]</span>
<span class="p">[</span><span class="mf">9.5</span><span class="p">,</span> <span class="mf">10.2</span><span class="p">,</span> <span class="mf">12.9</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">,</span> <span class="mf">21.0</span><span class="p">,</span> <span class="mf">22.1</span><span class="p">,</span> <span class="mf">25.8</span><span class="p">,</span> <span class="mf">24.2</span><span class="p">,</span> <span class="mf">20.7</span><span class="p">,</span> <span class="mf">17.1</span><span class="p">,</span> <span class="mf">10.9</span><span class="p">,</span> <span class="mf">9.4</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">monthly_avg</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">n_years</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tmax</span><span class="p">)</span>


<span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">xrange</span> <span class="p">(</span> <span class="nb">len</span><span class="p">(</span><span class="n">tmax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="p">):</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="mf">0.</span>
    <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">xrange</span> <span class="p">(</span><span class="n">n_years</span><span class="p">):</span>
        <span class="n">temp</span> <span class="o">+=</span> <span class="n">tmax</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="n">month</span><span class="p">]</span>
    <span class="n">monthly_avg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="o">/</span><span class="n">n_years</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;T results for&quot;</span><span class="p">,</span><span class="n">n_years</span><span class="p">,</span><span class="s">&quot;years:&quot;</span><span class="p">,</span><span class="n">start_year</span><span class="p">,</span><span class="s">&quot;to&quot;</span><span class="p">,</span><span class="n">end_year</span>

<span class="n">month_names</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&quot;Jan&quot;</span><span class="p">,</span> <span class="s">&quot;Feb&quot;</span><span class="p">,</span> <span class="s">&quot;Mar&quot;</span><span class="p">,</span> <span class="s">&quot;Apr&quot;</span><span class="p">,</span> \
    <span class="s">&quot;May&quot;</span><span class="p">,</span> <span class="s">&quot;Jun&quot;</span><span class="p">,</span> <span class="s">&quot;Jul&quot;</span><span class="p">,</span> <span class="s">&quot;Aug&quot;</span><span class="p">,</span> <span class="s">&quot;Sep&quot;</span><span class="p">,</span> <span class="s">&quot;Oct&quot;</span><span class="p">,</span> <span class="s">&quot;Nov&quot;</span><span class="p">,</span> <span class="s">&quot;Dec&quot;</span> <span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;</span><span class="se">\n\t</span><span class="s">Month</span><span class="se">\t</span><span class="s">TmaxAvg</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">mname</span> <span class="ow">in</span> <span class="nb">enumerate</span> <span class="p">(</span> <span class="n">month_names</span> <span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">mname</span><span class="p">,</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span><span class="n">monthly_avg</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>T results for 30 years: 1960 to 1990

    Month   TmaxAvg

    Jan     7.00666666667
    Feb     7.42
    Mar     10.2033333333
    Apr     13.11
    May     16.9566666667
    Jun     20.4666666667
    Jul     22.32
    Aug     21.8833333333
    Sep     19.2933333333
    Oct     15.3033333333
    Nov     10.42
    Dec     8.00333333333
</pre></div>
</div>
</div>
<div class="section" id="exercise-2-7">
<h2>Exercise 2.7<a class="headerlink" href="#exercise-2-7" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># 1. Read the configuration file</span>
<span class="c"># into the dict modis</span>
<span class="kn">import</span> <span class="nn">ConfigParser</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;files/data/modis.cfg&#39;</span><span class="p">)</span>

<span class="c"># we can convert this to a normal dictionary</span>
<span class="n">modis</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">sections</span><span class="p">():</span>
    <span class="n">modis</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>

<span class="c"># 2. Now, loop over config sections</span>
<span class="c"># and get the sub-dictionary which we call sub_dict</span>

<span class="c"># 3. set up anb empty list to contain the</span>
<span class="c"># files we want to process</span>
<span class="n">wanted_files</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">modis</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="n">sub_dict</span> <span class="o">=</span> <span class="n">v</span>

    <span class="c"># 3a. Read the file list</span>
    <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
    <span class="n">file_data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c"># 3b. find the doy range</span>
    <span class="n">doy_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_start&#39;</span><span class="p">]),</span>\
                          <span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_end&#39;</span><span class="p">]))</span>

    <span class="c"># 3c. loop over each file read from</span>
    <span class="c">#     sub_dict[&#39;file_list&#39;]</span>
    <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="p">)):</span>
        <span class="c"># 3d. extract doy from the file name</span>
        <span class="n">this_file</span> <span class="o">=</span> <span class="n">file_data</span><span class="p">[</span><span class="n">count</span><span class="p">]</span>

        <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>

        <span class="c"># 3e. see if doy is in the range we want?</span>
        <span class="k">if</span> <span class="n">doy</span> <span class="ow">in</span> <span class="n">doy_range</span><span class="p">:</span>

            <span class="c"># 3f. put the directory on the fornt</span>
            <span class="n">full_name</span> <span class="o">=</span> <span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;dir&#39;</span><span class="p">]</span> <span class="o">+</span> \
                        <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">this_file</span>
            <span class="n">wanted_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_name</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&quot;I found </span><span class="si">%d</span><span class="s"> files to process&quot;</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">wanted_files</span><span class="p">)</span>

<span class="c"># I won&#39;t print the whole list as its too long</span>
<span class="c"># just the first 10</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">wanted_files</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="k">print</span> <span class="n">f</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>I found 62 files to process
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004214.h19v10.005.2007299212915.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004215.h19v10.005.2007300042347.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004216.h19v10.005.2007300091257.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004217.h19v10.005.2007300153436.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004218.h19v10.005.2007300215826.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004219.h19v10.005.2007302194509.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004220.h19v10.005.2007302093547.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004221.h19v10.005.2007302222054.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004222.h19v10.005.2007303011606.hdf

/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004223.h19v10.005.2007303073538.hdf
</pre></div>
</div>
<p><strong>You should modify the example above to make it simpler, if you can
spot any places for that (don&#8217;t make it more complicated!).</strong></p>
<p><strong>You should then modify it so that the list of files that we want to
process is printed to a file.</strong></p>
</div>
<div class="section" id="answer-2-7">
<h2>Answer 2.7<a class="headerlink" href="#answer-2-7" title="Permalink to this headline">¶</a></h2>
<p>Probably the main place you could make the code simpler would be in the
loop:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># 3a. Read the file list</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="n">file_data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c"># 3b. find the doy range</span>
<span class="n">doy_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_start&#39;</span><span class="p">]),</span>\
                      <span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_end&#39;</span><span class="p">]))</span>

<span class="c"># 3c. loop over each file read from</span>
<span class="c">#     sub_dict[&#39;file_list&#39;]</span>
<span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="p">)):</span>
    <span class="c"># 3d. extract doy from the file name</span>
    <span class="n">this_file</span> <span class="o">=</span> <span class="n">file_data</span><span class="p">[</span><span class="n">count</span><span class="p">]</span>

    <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>

    <span class="c"># 3e. see if doy is in the range we want?</span>
    <span class="k">if</span> <span class="n">doy</span> <span class="ow">in</span> <span class="n">doy_range</span><span class="p">:</span>

        <span class="c"># 3f. put the directory on the fornt</span>
        <span class="n">full_name</span> <span class="o">=</span> <span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;dir&#39;</span><span class="p">]</span> <span class="o">+</span> \
                    <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">this_file</span>
        <span class="n">wanted_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Really, we don&#8217;t need the <tt class="docutils literal"><span class="pre">count</span></tt> variable and structure in here, and
we could replace this by:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># 3a. Read the file list</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="c"># 3b. find the doy range</span>
<span class="n">doy_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_start&#39;</span><span class="p">]),</span>\
                      <span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_end&#39;</span><span class="p">]))</span>

<span class="c"># 3c. loop over each file read from</span>
<span class="c">#     sub_dict[&#39;file_list&#39;]</span>
<span class="k">for</span> <span class="n">this_file</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>

    <span class="c"># 3d. extract doy from the file name</span>
    <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>

    <span class="c"># 3e. see if doy is in the range we want?</span>
    <span class="k">if</span> <span class="n">doy</span> <span class="ow">in</span> <span class="n">doy_range</span><span class="p">:</span>

        <span class="c"># 3f. store the filename in the list</span>
        <span class="n">wanted_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;dir&#39;</span><span class="p">],</span><span class="n">this_file</span><span class="p">))</span>

<span class="c"># close the file here now</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>If you wanted, you could also do some clever things with <tt class="docutils literal"><span class="pre">and</span></tt>:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># 3a. Read the file list</span>
<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="c"># 3b. find the doy range</span>
<span class="n">doy_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_start&#39;</span><span class="p">]),</span>\
                      <span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_end&#39;</span><span class="p">]))</span>

<span class="c"># 3c. loop over each file read from</span>
<span class="c">#     sub_dict[&#39;file_list&#39;]</span>
<span class="k">for</span> <span class="n">this_file</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>

    <span class="c"># 3d. extract doy from the file name</span>
    <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>

    <span class="c"># 3e. see if doy is in the range we want</span>
    <span class="c"># and put in list if so</span>
    <span class="n">doy</span> <span class="ow">in</span> <span class="n">doy_range</span> <span class="ow">and</span> \
        <span class="n">wanted_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;dir&#39;</span><span class="p">],</span><span class="n">this_file</span><span class="p">))</span>

<span class="c"># close the file here now</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Writing the results to file should be straightforward enough for you
now.</p>
<p>You could do it at the end:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># 1. Read the configuration file</span>
<span class="c"># into the dict modis</span>
<span class="kn">import</span> <span class="nn">ConfigParser</span>

<span class="c"># good to open the file early on</span>
<span class="c"># in case it fails</span>
<span class="n">ofile</span> <span class="o">=</span> <span class="s">&#39;files/data/modis_files.dat&#39;</span>
<span class="n">ofp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ofile</span><span class="p">,</span><span class="s">&quot;w&quot;</span><span class="p">)</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;files/data/modis.cfg&#39;</span><span class="p">)</span>

<span class="c"># we can convert this to a normal dictionary</span>
<span class="n">modis</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">sections</span><span class="p">():</span>
    <span class="n">modis</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>

<span class="c"># 2. Now, loop over config sections</span>
<span class="c"># and get the sub-dictionary which we call sub_dict</span>

<span class="c"># 3. set up anb empty list to contain the</span>
<span class="c"># files we want to process</span>
<span class="n">wanted_files</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">modis</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="n">sub_dict</span> <span class="o">=</span> <span class="n">v</span>

    <span class="c"># 3a. Read the file list</span>
    <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

    <span class="c"># 3b. find the doy range</span>
    <span class="n">doy_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_start&#39;</span><span class="p">]),</span>\
                          <span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_end&#39;</span><span class="p">]))</span>

    <span class="c"># 3c. loop over each file read from</span>
    <span class="c">#     sub_dict[&#39;file_list&#39;]</span>
    <span class="k">for</span> <span class="n">this_file</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>

        <span class="c"># 3d. extract doy from the file name</span>
        <span class="n">doy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
        <span class="c"># 3e. see if doy is in the range we want</span>
        <span class="c"># and put in list if so</span>
        <span class="n">doy</span> <span class="ow">in</span> <span class="n">doy_range</span> <span class="ow">and</span> \
            <span class="n">wanted_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;dir&#39;</span><span class="p">],</span><span class="n">this_file</span><span class="p">))</span>
    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">print</span> <span class="s">&quot;I found </span><span class="si">%d</span><span class="s"> files to process&quot;</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">wanted_files</span><span class="p">)</span>

<span class="n">ofp</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="n">wanted_files</span><span class="p">)</span>
<span class="n">ofp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>I found 62 files to process
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre>!head -10 &lt; files/data/modis_files.dat
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004214.h19v10.005.2007299212915.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004215.h19v10.005.2007300042347.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004216.h19v10.005.2007300091257.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004217.h19v10.005.2007300153436.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004218.h19v10.005.2007300215826.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004219.h19v10.005.2007302194509.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004220.h19v10.005.2007302093547.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004221.h19v10.005.2007302222054.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004222.h19v10.005.2007303011606.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004223.h19v10.005.2007303073538.hdf
</pre></div>
</div>
<p>Or you could print as you go along in the loop:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># 1. Read the configuration file</span>
<span class="c"># into the dict modis</span>
<span class="kn">import</span> <span class="nn">ConfigParser</span>

<span class="c"># good to open the file early on</span>
<span class="c"># in case it fails</span>
<span class="n">ofile</span> <span class="o">=</span> <span class="s">&#39;files/data/modis_files.dat&#39;</span>
<span class="n">ofp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">ofile</span><span class="p">,</span><span class="s">&quot;w&quot;</span><span class="p">)</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;files/data/modis.cfg&#39;</span><span class="p">)</span>

<span class="c"># we can convert this to a normal dictionary</span>
<span class="n">modis</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">sections</span><span class="p">():</span>
    <span class="n">modis</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>

<span class="c"># 2. Now, loop over config sections</span>
<span class="c"># and get the sub-dictionary which we call sub_dict</span>

<span class="c"># 3. set up anb empty list to contain the</span>
<span class="c"># files we want to process</span>
<span class="n">wanted_files</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">modis</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

    <span class="n">sub_dict</span> <span class="o">=</span> <span class="n">v</span>

    <span class="c"># 3a. Read the file list</span>
    <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;file_list&#39;</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

    <span class="c"># 3b. find the doy range</span>
    <span class="n">doy_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_start&#39;</span><span class="p">]),</span>\
                          <span class="nb">int</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;doy_end&#39;</span><span class="p">]))</span>

    <span class="c"># 3c. loop over each file read from</span>
    <span class="c">#     sub_dict[&#39;file_list&#39;]</span>
    <span class="k">for</span> <span class="n">this_file</span> <span class="ow">in</span> <span class="n">fp</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>

        <span class="c"># 3d. extract doy from the file name</span>
        <span class="c"># 3e. see if doy is in the range we want</span>
        <span class="c"># and put in list if so</span>
        <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">this_file</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span> <span class="ow">in</span> <span class="n">doy_range</span><span class="p">)</span> <span class="ow">and</span> \
                <span class="n">ofp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">sub_dict</span><span class="p">[</span><span class="s">&#39;dir&#39;</span><span class="p">],</span><span class="n">this_file</span><span class="p">))</span>
    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">ofp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre>!head -10 &lt; files/data/modis_files.dat
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004214.h19v10.005.2007299212915.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004215.h19v10.005.2007300042347.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004216.h19v10.005.2007300091257.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004217.h19v10.005.2007300153436.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004218.h19v10.005.2007300215826.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004219.h19v10.005.2007302194509.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004220.h19v10.005.2007302093547.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004221.h19v10.005.2007302222054.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004222.h19v10.005.2007303011606.hdf
/data/geospatial_19/ucfajlg/fire/Angola/MYD09/MYD09GA.A2004223.h19v10.005.2007303073538.hdf
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="index">
          <img class="logo" src="../_static/ucl_logo.png" alt="Logo"/>
        </a></p><div class="sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">E2. Exercises</a><ul>
<li><a class="reference internal" href="#exercise-2-1">Exercise 2.1</a></li>
<li><a class="reference internal" href="#answer-2-1">Answer 2.1</a></li>
<li><a class="reference internal" href="#exercise-2-2">Exercise 2.2</a><ul>
<li><a class="reference internal" href="#a">A.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#answer-2-2">Answer 2.2</a><ul>
<li><a class="reference internal" href="#b">B.</a><ul>
<li><a class="reference internal" href="#answer">Answer</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#exercise-2-3">Exercise 2.3</a></li>
<li><a class="reference internal" href="#answer-2-3">Answer 2.3</a></li>
<li><a class="reference internal" href="#exercise-2-4">Exercise 2.4</a></li>
<li><a class="reference internal" href="#answer-2-4">Answer 2.4</a></li>
<li><a class="reference internal" href="#exercise-2-5">Exercise 2.5</a></li>
<li><a class="reference internal" href="#answer-2-5">Answer 2.5</a></li>
<li><a class="reference internal" href="#exercise-2-6">Exercise 2.6</a></li>
<li><a class="reference internal" href="#answer-2-6">Answer 2.6</a></li>
<li><a class="reference internal" href="#exercise-2-7">Exercise 2.7</a></li>
<li><a class="reference internal" href="#answer-2-7">Answer 2.7</a></li>
</ul>
</li>
</ul>

  </div>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/Chapter2_Python_intro/main_answers.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
    <li><a href="../index.html">geogg122</a> &raquo;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2014, Prof. P. Lewis.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>